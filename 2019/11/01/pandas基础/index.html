<!DOCTYPE html>
<html lang="zh-CN">
<head>
  <meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=2">
<meta name="theme-color" content="#222">
<meta name="generator" content="Hexo 4.2.0">
  <link rel="apple-touch-icon" sizes="180x180" href="/blog/images/apple-touch-icon-next.png">
  <link rel="icon" type="image/png" sizes="32x32" href="/blog/images/favicon-32x32-next.png">
  <link rel="icon" type="image/png" sizes="16x16" href="/blog/images/favicon-16x16-next.png">
  <link rel="mask-icon" href="/blog/images/logo.svg" color="#222">

<link rel="stylesheet" href="/blog/css/main.css">


<link rel="stylesheet" href="/blog/lib/font-awesome/css/font-awesome.min.css">

<script id="hexo-configurations">
    var NexT = window.NexT || {};
    var CONFIG = {"hostname":"pasaulis.gitee.io","root":"/blog/","scheme":"Gemini","version":"7.7.2","exturl":false,"sidebar":{"position":"left","display":"post","padding":18,"offset":12,"onmobile":false},"copycode":{"enable":false,"show_result":false,"style":null},"back2top":{"enable":true,"sidebar":false,"scrollpercent":false},"bookmark":{"enable":false,"color":"#222","save":"auto"},"fancybox":false,"mediumzoom":false,"lazyload":false,"pangu":false,"comments":{"style":"tabs","active":null,"storage":true,"lazyload":false,"nav":null},"algolia":{"hits":{"per_page":10},"labels":{"input_placeholder":"Search for Posts","hits_empty":"We didn't find any results for the search: ${query}","hits_stats":"${hits} results found in ${time} ms"}},"localsearch":{"enable":false,"trigger":"auto","top_n_per_article":1,"unescape":false,"preload":false},"motion":{"enable":true,"async":false,"transition":{"post_block":"fadeIn","post_header":"slideDownIn","post_body":"slideDownIn","coll_header":"slideLeftIn","sidebar":"slideUpIn"}}};
  </script>

  <meta name="description" content="详情请点阅读全文">
<meta property="og:type" content="article">
<meta property="og:title" content="pandas基础">
<meta property="og:url" content="https://pasaulis.gitee.io/blog/2019/11/01/pandas%E5%9F%BA%E7%A1%80/index.html">
<meta property="og:site_name" content="晨曦的博客">
<meta property="og:description" content="详情请点阅读全文">
<meta property="og:locale" content="zh_CN">
<meta property="article:published_time" content="2019-11-01T01:41:28.000Z">
<meta property="article:modified_time" content="2020-03-23T03:01:39.736Z">
<meta property="article:author" content="晨曦">
<meta property="article:tag" content="python">
<meta property="article:tag" content="vue">
<meta property="article:tag" content="react">
<meta property="article:tag" content="AI">
<meta property="article:tag" content="人工智能">
<meta property="article:tag" content="爬虫">
<meta property="article:tag" content="大数据分析">
<meta name="twitter:card" content="summary">

<link rel="canonical" href="https://pasaulis.gitee.io/blog/2019/11/01/pandas%E5%9F%BA%E7%A1%80/">


<script id="page-configurations">
  // https://hexo.io/docs/variables.html
  CONFIG.page = {
    sidebar: "",
    isHome : false,
    isPost : true,
    lang   : 'zh-CN'
  };
</script>

  <title>pandas基础 | 晨曦的博客</title>
  






  <noscript>
  <style>
  .use-motion .brand,
  .use-motion .menu-item,
  .sidebar-inner,
  .use-motion .post-block,
  .use-motion .pagination,
  .use-motion .comments,
  .use-motion .post-header,
  .use-motion .post-body,
  .use-motion .collection-header { opacity: initial; }

  .use-motion .site-title,
  .use-motion .site-subtitle {
    opacity: initial;
    top: initial;
  }

  .use-motion .logo-line-before i { left: initial; }
  .use-motion .logo-line-after i { right: initial; }
  </style>
</noscript>

</head>

<body itemscope itemtype="http://schema.org/WebPage">
  <div class="container use-motion">
    <div class="headband"></div>

    <header class="header" itemscope itemtype="http://schema.org/WPHeader">
      <div class="header-inner"><div class="site-brand-container">
  <div class="site-nav-toggle">
    <div class="toggle" aria-label="切换导航栏">
      <span class="toggle-line toggle-line-first"></span>
      <span class="toggle-line toggle-line-middle"></span>
      <span class="toggle-line toggle-line-last"></span>
    </div>
  </div>

  <div class="site-meta">

    <a href="/blog/" class="brand" rel="start">
      <span class="logo-line-before"><i></i></span>
      <h1 class="site-title">晨曦的博客</h1>
      <span class="logo-line-after"><i></i></span>
    </a>
      <p class="site-subtitle" itemprop="description">技术博客</p>
  </div>

  <div class="site-nav-right">
    <div class="toggle popup-trigger">
    </div>
  </div>
</div>




<nav class="site-nav">
  <ul id="menu" class="menu">
        <li class="menu-item menu-item-home">

    <a href="/blog/" rel="section"><i class="fa fa-fw fa-home"></i>首页</a>

  </li>
        <li class="menu-item menu-item-about">

    <a href="/blog/about/" rel="section"><i class="fa fa-fw fa-user"></i>关于</a>

  </li>
        <li class="menu-item menu-item-categories">

    <a href="/blog/categories/" rel="section"><i class="fa fa-fw fa-th"></i>分类</a>

  </li>
        <li class="menu-item menu-item-tags">

    <a href="/blog/tags/" rel="section"><i class="fa fa-fw fa-tags"></i>标签</a>

  </li>
        <li class="menu-item menu-item-archives">

    <a href="/blog/archives/" rel="section"><i class="fa fa-fw fa-archive"></i>归档</a>

  </li>
  </ul>
</nav>




</div>
    </header>

    
  <div class="back-to-top">
    <i class="fa fa-arrow-up"></i>
    <span>0%</span>
  </div>


    <main class="main">
      <div class="main-inner">
        <div class="content-wrap">
          

          <div class="content">
            

  <div class="posts-expand">
      
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block " lang="zh-CN">
    <link itemprop="mainEntityOfPage" href="https://pasaulis.gitee.io/blog/2019/11/01/pandas%E5%9F%BA%E7%A1%80/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="http://www.zeyajt.com/u/40b74ddb-a87b-41cd-821b-3f6eeb544661/image/637203952121373129.jpg">
      <meta itemprop="name" content="晨曦">
      <meta itemprop="description" content="晨曦的技术博客，专注于python、vue、react、人工智能、爬虫、大数据分析">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="晨曦的博客">
    </span>
      <header class="post-header">
        <h1 class="post-title" itemprop="name headline">
          pandas基础
        </h1>

        <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              <span class="post-meta-item-text">发表于</span>

              <time title="创建时间：2019-11-01 09:41:28" itemprop="dateCreated datePublished" datetime="2019-11-01T09:41:28+08:00">2019-11-01</time>
            </span>
              <span class="post-meta-item">
                <span class="post-meta-item-icon">
                  <i class="fa fa-calendar-check-o"></i>
                </span>
                <span class="post-meta-item-text">更新于</span>
                <time title="修改时间：2020-03-23 11:01:39" itemprop="dateModified" datetime="2020-03-23T11:01:39+08:00">2020-03-23</time>
              </span>
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              <span class="post-meta-item-text">分类于</span>
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/blog/categories/python/" itemprop="url" rel="index"><span itemprop="name">python</span></a>
                </span>
                  ，
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/blog/categories/python/%E6%95%B0%E6%8D%AE%E5%88%86%E6%9E%90/" itemprop="url" rel="index"><span itemprop="name">数据分析</span></a>
                </span>
            </span>

          

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
        <p>详情请点阅读全文 </p>
<a id="more"></a>

<h2 id="一、pandas简介"><a href="#一、pandas简介" class="headerlink" title="一、pandas简介"></a>一、pandas简介</h2><ul>
<li>pandas是一个强大的Python数据分析的工具包。</li>
<li>pandas是基于NumPy构建的。<h3 id="1-pandas的主要功能："><a href="#1-pandas的主要功能：" class="headerlink" title="1.pandas的主要功能："></a>1.pandas的主要功能：</h3></li>
</ul>
<ol>
<li>具备对其功能的数据结构DataFrame、Series</li>
<li>集成时间序列功能</li>
<li>提供丰富的数学运算和操作</li>
<li>灵活处理缺失数据</li>
</ol>
<h3 id="2-安装方法"><a href="#2-安装方法" class="headerlink" title="2.安装方法:"></a>2.安装方法:</h3><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">pip install pandas</span><br></pre></td></tr></table></figure>
<h3 id="3-引用方法"><a href="#3-引用方法" class="headerlink" title="3.引用方法:"></a>3.引用方法:</h3><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> pandas <span class="keyword">as</span> pd</span><br></pre></td></tr></table></figure>

<h2 id="二、pandas-Series"><a href="#二、pandas-Series" class="headerlink" title="二、pandas.Series"></a>二、pandas.Series</h2><ul>
<li>Series是一种类似于一维数组的对象，由一组数据和一组与之相关的数据标签(索引)组成。</li>
<li>Series比较像列表 (数组)和字典的结合体<h3 id="1-Series创建方式"><a href="#1-Series创建方式" class="headerlink" title="1.Series创建方式:"></a>1.Series创建方式:</h3><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">pd.Series([<span class="number">4</span>,<span class="number">7</span>,<span class="number">-5</span>,<span class="number">3</span>]) <span class="comment">#S注意大小写</span></span><br><span class="line">pd.Series([<span class="number">4</span>,<span class="number">7</span>,<span class="number">-5</span>,<span class="number">3</span>],index=[<span class="string">'a'</span>,<span class="string">'b'</span>,<span class="string">'c,'</span>d<span class="string">'])</span></span><br><span class="line"><span class="string">pd.Series(&#123;'</span>a<span class="string">':1, '</span><span class="string">b':2&#125;)</span></span><br><span class="line"><span class="string">pd. Series(0, index=['</span>a,<span class="string">'b'</span>,<span class="string">'c'</span>,<span class="string">'d'</span>])</span><br></pre></td></tr></table></figure></li>
</ul>
<p><strong>运行实例：</strong></p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&gt;&gt;&gt; </span><span class="keyword">import</span> pandas <span class="keyword">as</span> pd</span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>pd.Series(range(<span class="number">10</span>,<span class="number">14</span>,<span class="number">1</span>)) <span class="comment">#创建列表，以默认1，2，3...为序列</span></span><br><span class="line"><span class="number">0</span>    <span class="number">10</span></span><br><span class="line"><span class="number">1</span>    <span class="number">11</span></span><br><span class="line"><span class="number">2</span>    <span class="number">12</span></span><br><span class="line"><span class="number">3</span>    <span class="number">13</span></span><br><span class="line">dtype: int64</span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>pd.Series(range(<span class="number">10</span>,<span class="number">14</span>,<span class="number">1</span>),index=list(<span class="string">'abcd'</span>)) <span class="comment">#创建series列表 以a,b,c,d为序列</span></span><br><span class="line">a    <span class="number">10</span></span><br><span class="line">b    <span class="number">11</span></span><br><span class="line">c    <span class="number">12</span></span><br><span class="line">d    <span class="number">13</span></span><br><span class="line">dtype: int64</span><br></pre></td></tr></table></figure>

<h3 id="2-获取值数组和索引数组"><a href="#2-获取值数组和索引数组" class="headerlink" title="2.获取值数组和索引数组:"></a>2.获取值数组和索引数组:</h3><p>values 属性和index属性:</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">#【调用方式】</span></span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span><span class="keyword">import</span> pandas <span class="keyword">as</span> pd</span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>a=pd.Series(range(<span class="number">10</span>,<span class="number">14</span>,<span class="number">1</span>),index=list(<span class="string">'abcd'</span>))</span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>a</span><br><span class="line">a    <span class="number">10</span></span><br><span class="line">b    <span class="number">11</span></span><br><span class="line">c    <span class="number">12</span></span><br><span class="line">d    <span class="number">13</span></span><br><span class="line">dtype: int64</span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>a[<span class="string">'a'</span>]</span><br><span class="line"><span class="number">10</span></span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>a[<span class="string">'d'</span>]</span><br><span class="line"><span class="number">13</span></span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>a[<span class="number">0</span>] <span class="comment">#也可用位置索引</span></span><br><span class="line"><span class="number">10</span></span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>a[<span class="number">3</span>]</span><br><span class="line"><span class="number">13</span></span><br><span class="line"><span class="comment">#【获取索引】</span></span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>a.index</span><br><span class="line">Index([<span class="string">'a'</span>, <span class="string">'b'</span>, <span class="string">'c'</span>, <span class="string">'d'</span>], dtype=<span class="string">'object'</span>)</span><br><span class="line"><span class="comment">#【获取值】</span></span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>a.values</span><br><span class="line">array([<span class="number">10</span>, <span class="number">11</span>, <span class="number">12</span>, <span class="number">13</span>], dtype=int64)</span><br><span class="line"><span class="comment">#【获取单个索引、值】</span></span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>a.index[<span class="number">0</span>]</span><br><span class="line"><span class="string">'a'</span></span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>a.values[<span class="number">1</span>]</span><br><span class="line"><span class="number">11</span></span><br></pre></td></tr></table></figure>
<h3 id="3-Series特性"><a href="#3-Series特性" class="headerlink" title="3.Series特性"></a>3.Series特性</h3><h4 id="2-3-1Series支持NumPy模块的特性-下标"><a href="#2-3-1Series支持NumPy模块的特性-下标" class="headerlink" title="2.3.1Series支持NumPy模块的特性(下标) :"></a>2.3.1Series支持NumPy模块的特性(下标) :</h4><p>sr表示：series</p>
<ul>
<li>从ndarray创建Series: Series(arr)</li>
<li>与标量运算: sr*2</li>
<li>两个Series运算: sr1+sr2</li>
<li>索引: sr[0], sr[[1,2,4]]</li>
<li>切片: sr[0:2]（切片也是直接改series，不会复制，可用：b=a[0:2].copy()）</li>
<li>通用函数: np.abs(sr)</li>
<li>布尔值过滤: sr[sr&gt;0]</li>
</ul>
<p>示例：</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&gt;&gt;&gt; </span><span class="keyword">import</span> numpy <span class="keyword">as</span> np</span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span><span class="keyword">import</span> pandas <span class="keyword">as</span> pd</span><br><span class="line"><span class="comment">#【用np创建series列表】</span></span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>a=pd.Series(np.arange(<span class="number">4</span>)) </span><br><span class="line"><span class="number">0</span>    <span class="number">0</span></span><br><span class="line"><span class="number">1</span>    <span class="number">1</span></span><br><span class="line"><span class="number">2</span>    <span class="number">2</span></span><br><span class="line"><span class="number">3</span>    <span class="number">3</span></span><br><span class="line">dtype: int32</span><br><span class="line"><span class="comment">#【与标量运算】</span></span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>a+<span class="number">2</span></span><br><span class="line"><span class="number">0</span>     <span class="number">2</span></span><br><span class="line"><span class="number">1</span>     <span class="number">3</span></span><br><span class="line"><span class="number">2</span>     <span class="number">4</span></span><br><span class="line"><span class="number">3</span>     <span class="number">5</span></span><br><span class="line">dtype: int32</span><br><span class="line"><span class="comment">#【两个Series运算】</span></span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>a+a</span><br><span class="line"><span class="number">0</span>     <span class="number">0</span></span><br><span class="line"><span class="number">1</span>     <span class="number">2</span></span><br><span class="line"><span class="number">2</span>     <span class="number">4</span></span><br><span class="line"><span class="number">3</span>     <span class="number">6</span></span><br></pre></td></tr></table></figure>
<h4 id="2-3-2Series支持字典的特性-标签"><a href="#2-3-2Series支持字典的特性-标签" class="headerlink" title="2.3.2Series支持字典的特性(标签) :"></a>2.3.2Series支持字典的特性(标签) :</h4><ul>
<li>从字典创建Series: Series(dic),</li>
<li>in运算: ‘a’in sr</li>
<li>键索引: sr[‘a’], sr[[‘a’, ‘b’, ‘d’]]</li>
</ul>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">#【从字典创建】</span></span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>b=pd.Series(&#123;<span class="string">'a'</span>:<span class="number">1</span>,<span class="string">'b'</span>:<span class="number">3</span>,<span class="string">'c'</span>:<span class="number">5</span>&#125;)</span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>b</span><br><span class="line">a    <span class="number">1</span></span><br><span class="line">b    <span class="number">3</span></span><br><span class="line">c    <span class="number">5</span></span><br><span class="line">dtype: int64</span><br><span class="line"><span class="comment">#【in运算】</span></span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span><span class="string">'a'</span> <span class="keyword">in</span> b <span class="comment">#'a'是否在b里</span></span><br><span class="line"><span class="literal">True</span></span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>b.get(<span class="string">'ccc'</span>,default=<span class="number">0</span>) <span class="comment">#获取键对应值，如果键不存在，返回默认值0</span></span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span><span class="number">0</span></span><br><span class="line"><span class="comment">#【键索引】</span></span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>b[<span class="string">'a'</span>]</span><br><span class="line"><span class="number">1</span></span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>b[[<span class="string">'a'</span>,<span class="string">'c'</span>]]</span><br><span class="line">a    <span class="number">1</span></span><br><span class="line">c    <span class="number">5</span></span><br><span class="line">dtype: int64</span><br><span class="line"><span class="comment">#【键切片】</span></span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>b[<span class="string">'a'</span>:<span class="string">'c'</span>]</span><br><span class="line">a    <span class="number">1</span></span><br><span class="line">b    <span class="number">3</span></span><br><span class="line">c    <span class="number">5</span></span><br><span class="line">dtype: int64</span><br></pre></td></tr></table></figure>
<h3 id="3-整数索引"><a href="#3-整数索引" class="headerlink" title="3.整数索引"></a>3.整数索引</h3><p>整数索引（键）的pandas对象比较难<br>例:</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&gt;&gt;&gt; </span>sr= pd.Series(np.arange(<span class="number">4.</span>))</span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>sr</span><br><span class="line"><span class="number">0</span>    <span class="number">0.0</span></span><br><span class="line"><span class="number">1</span>    <span class="number">1.0</span></span><br><span class="line"><span class="number">2</span>    <span class="number">2.0</span></span><br><span class="line"><span class="number">3</span>    <span class="number">3.0</span></span><br><span class="line">dtype: float64</span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>sr[<span class="number">-1</span>] <span class="comment">#将报错</span></span><br><span class="line">Traceback (most recent call last):</span><br><span class="line">  File <span class="string">"&lt;stdin&gt;"</span>, line <span class="number">1</span>, <span class="keyword">in</span> &lt;module&gt;</span><br><span class="line">  ....</span><br><span class="line">  KeyError: <span class="number">0</span></span><br></pre></td></tr></table></figure>
<h5 id="如果索引（键）是整数类型，则根据整数进行数据操作时，总是优先面向标签（键）的，而不是优先用下标索引"><a href="#如果索引（键）是整数类型，则根据整数进行数据操作时，总是优先面向标签（键）的，而不是优先用下标索引" class="headerlink" title="如果索引（键）是整数类型，则根据整数进行数据操作时，总是优先面向标签（键）的，而不是优先用下标索引"></a>如果索引（键）是整数类型，则根据整数进行数据操作时，总是优先面向标签（键）的，而不是优先用下标索引</h5><ul>
<li>e.loc() #根据标签（键）索引</li>
<li>e.iloc() #根据下标索引</li>
</ul>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&gt;&gt;&gt; </span>e=pd.Series(&#123;<span class="number">1</span>:<span class="number">5</span>,<span class="number">2</span>:<span class="number">4</span>,<span class="number">3</span>:<span class="number">3</span>,<span class="number">4</span>:<span class="number">2</span>,<span class="number">5</span>:<span class="number">1</span>&#125;)</span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>e</span><br><span class="line"><span class="number">1</span>    <span class="number">5</span></span><br><span class="line"><span class="number">2</span>    <span class="number">4</span></span><br><span class="line"><span class="number">3</span>    <span class="number">3</span></span><br><span class="line"><span class="number">4</span>    <span class="number">2</span></span><br><span class="line"><span class="number">5</span>    <span class="number">1</span></span><br><span class="line">dtype: int64</span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>e[<span class="number">5</span>] <span class="comment">#5指的是键5，而不是下标5</span></span><br><span class="line"><span class="number">1</span></span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>e[<span class="number">0</span>] <span class="comment">#希望用下标0进行索引，它将报错</span></span><br><span class="line">Traceback (most recent call last):</span><br><span class="line">  File <span class="string">"&lt;stdin&gt;"</span>, line <span class="number">1</span>, <span class="keyword">in</span> &lt;module&gt;</span><br><span class="line">  ....</span><br><span class="line">  KeyError: <span class="number">0</span></span><br><span class="line"><span class="comment">#【重点：指定用loc(键)，iloc（下标）索引】</span></span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>e.iloc[<span class="number">1</span>] <span class="comment">#指定下标索引</span></span><br><span class="line"><span class="number">4</span></span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>e.loc[<span class="number">1</span>] <span class="comment">#指定键索引</span></span><br><span class="line"><span class="number">5</span></span><br></pre></td></tr></table></figure>
<h3 id="4-Series数据对齐"><a href="#4-Series数据对齐" class="headerlink" title="4.Series数据对齐"></a>4.Series数据对齐</h3><p>pandas在运算时，会按索引进行对齐然后计算。如果存在不同的索引，则结果的索引是两个操作数索引的并集。</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line">sr1 = pd.Series([<span class="number">12</span>,<span class="number">23</span>,<span class="number">34</span>], index=[<span class="string">'a'</span>,<span class="string">'d'</span>,<span class="string">'c'</span>])</span><br><span class="line">sr2 = pd.Series([<span class="number">11</span>,<span class="number">20</span>,<span class="number">10</span>], index=[<span class="string">'d'</span>,<span class="string">'c'</span>,<span class="string">'a'</span>])</span><br><span class="line">sr1+sr2  </span><br><span class="line"><span class="string">'''</span></span><br><span class="line"><span class="string">结果：</span></span><br><span class="line"><span class="string">a    22</span></span><br><span class="line"><span class="string">c    54</span></span><br><span class="line"><span class="string">d    34</span></span><br><span class="line"><span class="string">'''</span></span><br><span class="line">sr2 = pd.Series([<span class="number">11</span>,<span class="number">20</span>,<span class="number">10</span>,<span class="number">14</span>], index=[<span class="string">'d'</span>,<span class="string">'c'</span>,<span class="string">'a'</span>,<span class="string">'b'</span>])</span><br><span class="line">sr1+sr3</span><br><span class="line"><span class="string">'''</span></span><br><span class="line"><span class="string">结果：</span></span><br><span class="line"><span class="string">a    22.0</span></span><br><span class="line"><span class="string">b     NaN</span></span><br><span class="line"><span class="string">c    54.0</span></span><br><span class="line"><span class="string">d    34.0</span></span><br><span class="line"><span class="string">dtype: float64</span></span><br><span class="line"><span class="string">'''</span></span><br></pre></td></tr></table></figure>
<p>如何在两个Series对象相加时将缺失值设为0?<br>sr1.add(sr2, fill_value=0)<br>灵活的算术方法: add, sub, div, mul<br>sr1.sub(sr2,fill_value=11111)</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&gt;&gt;&gt; </span>s1=pd.Series(range(<span class="number">4</span>),index=list(<span class="string">'acde'</span>))</span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>s2=pd.Series(range(<span class="number">3</span>),index=list(<span class="string">'cdf'</span>))</span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>s1</span><br><span class="line">a    <span class="number">0</span></span><br><span class="line">c    <span class="number">1</span></span><br><span class="line">d    <span class="number">2</span></span><br><span class="line">e    <span class="number">3</span></span><br><span class="line">dtype: int64</span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>s2</span><br><span class="line">c    <span class="number">0</span></span><br><span class="line">d    <span class="number">1</span></span><br><span class="line">f    <span class="number">2</span></span><br><span class="line">dtype: int64</span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>s1+s2</span><br><span class="line">a    NaN</span><br><span class="line">c    <span class="number">1.0</span></span><br><span class="line">d    <span class="number">3.0</span></span><br><span class="line">e    NaN</span><br><span class="line">f    NaN</span><br><span class="line">dtype: float64</span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>s1.add(s2,fill_value=<span class="number">8888</span>)</span><br><span class="line">a    <span class="number">8888.0</span></span><br><span class="line">c       <span class="number">1.0</span></span><br><span class="line">d       <span class="number">3.0</span></span><br><span class="line">e    <span class="number">8891.0</span></span><br><span class="line">f    <span class="number">8890.0</span></span><br><span class="line">dtype: float64</span><br></pre></td></tr></table></figure>
<h3 id="5-缺失数据处理"><a href="#5-缺失数据处理" class="headerlink" title="5.缺失数据处理"></a>5.缺失数据处理</h3><p>缺失数据:使用NaN (Not a Number)来表示缺失数据。其值等于np.nan。<br>内置的None值也会被当做NaN处理。<br><strong>处理缺失数据的相关方法:</strong></p>
<ol>
<li>扔掉NaN：dropna()</li>
<li>挑出 ~isnull() 或 notnull()</li>
<li>填充NaN：fillna()</li>
<li>过滤缺失数据: sr.dropna()或sr[sr.notnull( )]</li>
<li>填充缺失数据: sr.fillna(0)</li>
</ol>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> pandas <span class="keyword">as</span> pd</span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>s1=pd.Series(range(<span class="number">4</span>),index=list(<span class="string">'acde'</span>))</span><br><span class="line">&gt;&gt;&gt;s2=pd.Series(range(<span class="number">3</span>),index=list(<span class="string">'cdf'</span>))</span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>s1+s2</span><br><span class="line">a    NaN</span><br><span class="line">c    <span class="number">1.0</span></span><br><span class="line">d    <span class="number">3.0</span></span><br><span class="line">e    NaN</span><br><span class="line">f    NaN</span><br><span class="line">dtype: float64</span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>c=_   <span class="comment">#【_表示上一步的结果，】</span></span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>c</span><br><span class="line">a    NaN</span><br><span class="line">c    <span class="number">1.0</span></span><br><span class="line">d    <span class="number">3.0</span></span><br><span class="line">e    NaN</span><br><span class="line">f    NaN</span><br><span class="line">dtype: float64</span><br><span class="line"><span class="comment">#-----------【扔掉NaN】------</span></span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>c.dropna()</span><br><span class="line">c    <span class="number">1.0</span></span><br><span class="line">d    <span class="number">3.0</span></span><br><span class="line">dtype: float64</span><br><span class="line"><span class="comment">#----【同义：挑出 非isnull 的值】------</span></span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>c[~c.isnull()]</span><br><span class="line">c    <span class="number">1.0</span></span><br><span class="line">d    <span class="number">3.0</span></span><br><span class="line">dtype: float64</span><br><span class="line"><span class="comment">#----【同义：挑出notnull】---</span></span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>c[c.notnull()]</span><br><span class="line">c    <span class="number">1.0</span></span><br><span class="line">d    <span class="number">3.0</span></span><br><span class="line">dtype: float64</span><br><span class="line"><span class="comment">#--------【填充nan】------</span></span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>c</span><br><span class="line">a    NaN</span><br><span class="line">c    <span class="number">1.0</span></span><br><span class="line">d    <span class="number">3.0</span></span><br><span class="line">e    NaN</span><br><span class="line">f    NaN</span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>c.fillna(<span class="number">000</span>)</span><br><span class="line">a    <span class="number">0.0</span></span><br><span class="line">c    <span class="number">1.0</span></span><br><span class="line">d    <span class="number">3.0</span></span><br><span class="line">e    <span class="number">0.0</span></span><br><span class="line">f    <span class="number">0.0</span></span><br><span class="line">dtype: float64</span><br></pre></td></tr></table></figure>
<h2 id="★三、pandas-DataFrame"><a href="#★三、pandas-DataFrame" class="headerlink" title="★三、pandas DataFrame"></a>★三、pandas DataFrame</h2><ul>
<li>DataFrame是一个表格型的数据结构，含有一组有序的列。</li>
<li>DataFrame可以被看做是由Series组成的字典，并且共用一个索引。</li>
</ul>
<h3 id="3-1创建方式"><a href="#3-1创建方式" class="headerlink" title="3.1创建方式:"></a>3.1创建方式:</h3><p>pd.DataFrame({‘one’:[1,2,3],’two’:[7,8,9]})<br>b=pd.DataFrame({‘one’:pd.Series([‘a’,’b’,’c’],index=[1,2,3]),’two’:pd.Series(range(4,7,1),index=list(‘abc’))})<br>…<br>实例：</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&gt;&gt;&gt; </span><span class="keyword">import</span> pandas <span class="keyword">as</span> pd</span><br><span class="line"><span class="comment">#--------【不指定索引index】--------------</span></span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>a=pd.DataFrame(&#123;<span class="string">'one'</span>:[<span class="number">1</span>,<span class="number">2</span>,<span class="number">3</span>],<span class="string">'two'</span>:[<span class="number">7</span>,<span class="number">8</span>,<span class="number">9</span>]&#125;)</span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>a</span><br><span class="line">   one  two</span><br><span class="line"><span class="number">0</span>    <span class="number">1</span>    <span class="number">7</span></span><br><span class="line"><span class="number">1</span>    <span class="number">2</span>    <span class="number">8</span></span><br><span class="line"><span class="number">2</span>    <span class="number">3</span>    <span class="number">9</span></span><br><span class="line"><span class="comment">#--------【指定索引index，所有列共用一个索引，内部用range,index快捷创建值，和索引】----------------</span></span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>b=pd.DataFrame(&#123;<span class="string">'one'</span>:pd.Series([<span class="string">'a'</span>,<span class="string">'b'</span>,<span class="string">'c'</span>],index=[<span class="number">1</span>,<span class="number">2</span>,<span class="number">3</span>]),<span class="string">'two'</span>:pd.Series</span><br><span class="line">(range(<span class="number">4</span>,<span class="number">7</span>,<span class="number">1</span>),index=list(<span class="string">'abc'</span>))&#125;)</span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>b</span><br><span class="line">   one  two</span><br><span class="line"><span class="number">1</span>    a  NaN</span><br><span class="line"><span class="number">2</span>    b  NaN</span><br><span class="line"><span class="number">3</span>    c  NaN</span><br><span class="line">a  NaN  <span class="number">4.0</span></span><br><span class="line">b  NaN  <span class="number">5.0</span></span><br><span class="line">c  NaN  <span class="number">6.0</span></span><br><span class="line"><span class="comment">#------------【指定索引index2】---------------</span></span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>c=pd.DataFrame(&#123;<span class="string">'one'</span>:pd.Series([<span class="number">1</span>,<span class="number">2</span>,<span class="number">3</span>],index=[<span class="string">'a'</span>,<span class="string">'b'</span>,<span class="string">'c'</span>]),<span class="string">'two'</span>:pd.Series</span><br><span class="line">(range(<span class="number">4</span>,<span class="number">8</span>,<span class="number">1</span>),index=list(<span class="string">'bacd'</span>))&#125;)</span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>c</span><br><span class="line">   one  two</span><br><span class="line">a  <span class="number">1.0</span>    <span class="number">5</span></span><br><span class="line">b  <span class="number">2.0</span>    <span class="number">4</span></span><br><span class="line">c  <span class="number">3.0</span>    <span class="number">6</span></span><br><span class="line">d  NaN    <span class="number">7</span></span><br></pre></td></tr></table></figure>

<h3 id="3-2★CSV文件读取与写入"><a href="#3-2★CSV文件读取与写入" class="headerlink" title="3.2★CSV文件读取与写入:"></a>3.2★CSV文件读取与写入:</h3><p>读取：df.read_csv(‘filename.csv’)<br>保存：df.to csv(‘new.csv’)<br>首先：进入csv目录方法有两种：</p>
<ul>
<li>a.在csv目录下【右键——在此处打开命令窗口】</li>
<li>a.可cd 路径进入（在cmd下）</li>
</ul>
<p>然后：进入python输入如下</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> pandas <span class="keyword">as</span> pd</span><br><span class="line"><span class="comment">#---【读取方式1】---</span></span><br><span class="line">pd.read_csv(<span class="string">'jr2.csv'</span>)</span><br><span class="line">    id      date    open   close    high     low  volume   code</span><br><span class="line"><span class="number">0</span>    <span class="number">0</span>  <span class="number">2007</span><span class="number">-3</span><span class="number">-1</span>  <span class="number">20.123</span>  <span class="number">21.569</span>  <span class="number">30.123</span>  <span class="number">30.123</span>  <span class="number">159899</span>  <span class="number">15223</span></span><br><span class="line"><span class="number">1</span>    <span class="number">1</span>  <span class="number">2007</span><span class="number">-3</span><span class="number">-1</span>  <span class="number">21.123</span>  <span class="number">22.569</span>  <span class="number">31.123</span>  <span class="number">31.123</span>  <span class="number">159900</span>  <span class="number">15223</span></span><br><span class="line">.....</span><br><span class="line"><span class="number">18</span>  <span class="number">18</span>  <span class="number">2008</span><span class="number">-9</span><span class="number">-8</span>  <span class="number">38.123</span>  <span class="number">39.569</span>  <span class="number">48.123</span>  <span class="number">48.123</span>  <span class="number">159917</span>  <span class="number">15224</span></span><br><span class="line"><span class="comment">#-------【读取方式2】---</span></span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>x=open(<span class="string">'jr2.csv'</span>)</span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>pd.read_csv(x) <span class="comment">#返回列表省略</span></span><br><span class="line"><span class="comment">#-----------【保存CSV】--------</span></span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>a=pd.read_csv(<span class="string">'jr2.csv'</span>)  <span class="comment">#先读取</span></span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>a.to_csv(<span class="string">'newjr.csv'</span>) <span class="comment">#然后保存成新的文件</span></span><br></pre></td></tr></table></figure>
<h3 id="3-3DataFrame查看数据"><a href="#3-3DataFrame查看数据" class="headerlink" title="3.3DataFrame查看数据"></a>3.3DataFrame查看数据</h3><h4 id="1-查看数据常用属性及方法"><a href="#1-查看数据常用属性及方法" class="headerlink" title="1.查看数据常用属性及方法:"></a>1.查看数据常用属性及方法:</h4><ol>
<li>index：获取行索引</li>
<li>T：转置</li>
<li>columns：获取列索引</li>
<li>values：获取值数组</li>
<li>describe()：获取快速统计</li>
</ol>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&gt;&gt;&gt; </span><span class="keyword">import</span> pandas <span class="keyword">as</span> pd</span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>a=pd.read_csv(<span class="string">'jr2.csv'</span>)</span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>a.to_csv(<span class="string">'newjr.csv'</span>)</span><br><span class="line"><span class="comment">#【获取行索引】</span></span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>a.index  </span><br><span class="line">RangeIndex(start=<span class="number">0</span>, stop=<span class="number">19</span>, step=<span class="number">1</span>)</span><br><span class="line"><span class="comment">#【获取列索引】</span></span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>a.columns</span><br><span class="line">Index([<span class="string">'id'</span>, <span class="string">'date'</span>, <span class="string">'open'</span>, <span class="string">'close'</span>, <span class="string">'high'</span>, <span class="string">'low'</span>, <span class="string">'volume'</span>, <span class="string">'code'</span>], dtype=<span class="string">'object'</span>)</span><br><span class="line"><span class="comment">#【返回值】</span></span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>a.values</span><br><span class="line">array([[<span class="number">0</span>, <span class="string">'2007-3-1'</span>, <span class="number">20.123</span>, <span class="number">21.569</span>, <span class="number">30.123</span>, <span class="number">30.123</span>,  <span class="number">159899</span>, <span class="number">15223</span>],</span><br><span class="line">       [<span class="number">1</span>, <span class="string">'2007-3-1'</span>, <span class="number">21.123</span>, <span class="number">22.569</span>, <span class="number">31.123</span>, <span class="number">31.123</span>,  <span class="number">159900</span>, <span class="number">15223</span>], </span><br><span class="line">       ...</span><br><span class="line">       ]],dtype=object)</span><br><span class="line"><span class="comment">#【概述】给出数量、平均值、方差、最小、最大，第1/4位的数，中位数等信息</span></span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>a=pd.read_csv(<span class="string">'jr.csv'</span>)</span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>a.describe()</span><br><span class="line">              id       open      close  ...        low         volume          c</span><br><span class="line">ode</span><br><span class="line">count  <span class="number">19.000000</span>  <span class="number">19.000000</span>  <span class="number">19.000000</span>  ...  <span class="number">19.000000</span>      <span class="number">19.000000</span>     <span class="number">19.000</span></span><br><span class="line"><span class="number">000</span></span><br><span class="line">mean    <span class="number">9.000000</span>  <span class="number">29.123000</span>  <span class="number">30.569000</span>  ...  <span class="number">39.123000</span>  <span class="number">159908.000000</span>  <span class="number">15223.631</span></span><br><span class="line"><span class="number">579</span></span><br><span class="line">std     <span class="number">5.627314</span>   <span class="number">5.627314</span>   <span class="number">5.627314</span>  ...   <span class="number">5.627314</span>       <span class="number">5.627314</span>      <span class="number">0.495</span></span><br><span class="line"><span class="number">595</span></span><br><span class="line">min     <span class="number">0.000000</span>  <span class="number">20.123000</span>  <span class="number">21.569000</span>  ...  <span class="number">30.123000</span>  <span class="number">159899.000000</span>  <span class="number">15223.000</span></span><br><span class="line"><span class="number">000</span></span><br><span class="line"><span class="number">25</span>%     <span class="number">4.500000</span>  <span class="number">24.623000</span>  <span class="number">26.069000</span>  ...  <span class="number">34.623000</span>  <span class="number">159903.500000</span>  <span class="number">15223.000</span></span><br><span class="line"><span class="number">000</span></span><br><span class="line"><span class="number">50</span>%     <span class="number">9.000000</span>  <span class="number">29.123000</span>  <span class="number">30.569000</span>  ...  <span class="number">39.123000</span>  <span class="number">159908.000000</span>  <span class="number">15224.000</span></span><br><span class="line"><span class="number">000</span></span><br><span class="line"><span class="number">75</span>%    <span class="number">13.500000</span>  <span class="number">33.623000</span>  <span class="number">35.069000</span>  ...  <span class="number">43.623000</span>  <span class="number">159912.500000</span>  <span class="number">15224.000</span></span><br><span class="line"><span class="number">000</span></span><br><span class="line">max    <span class="number">18.000000</span>  <span class="number">38.123000</span>  <span class="number">39.569000</span>  ...  <span class="number">48.123000</span>  <span class="number">159917.000000</span>  <span class="number">15224.000</span></span><br><span class="line"><span class="number">000</span></span><br><span class="line">[<span class="number">8</span> rows x <span class="number">7</span> columns]</span><br><span class="line">&gt;&gt;&gt;</span><br><span class="line"><span class="comment">#【给第一列索引标题一个名字】</span></span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>a.index.name=<span class="string">'n_id'</span></span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>a <span class="comment">#注意，第一列名字多了一个n_id名字</span></span><br><span class="line">      id      date    open   close    high     low  volume   code</span><br><span class="line">n_id</span><br><span class="line"><span class="number">0</span>      <span class="number">0</span>  <span class="number">2007</span><span class="number">-3</span><span class="number">-1</span>  <span class="number">20.123</span>  <span class="number">21.569</span>  <span class="number">30.123</span>  <span class="number">30.123</span>  <span class="number">159899</span>  <span class="number">15223</span></span><br><span class="line"><span class="number">1</span>      <span class="number">1</span>  <span class="number">2007</span><span class="number">-3</span><span class="number">-1</span>  <span class="number">21.123</span>  <span class="number">22.569</span>  <span class="number">31.123</span>  <span class="number">31.123</span>  <span class="number">159900</span>  <span class="number">15223</span></span><br></pre></td></tr></table></figure>

<h4 id="2-DataFrame各列name属性-列名"><a href="#2-DataFrame各列name属性-列名" class="headerlink" title="2.DataFrame各列name属性:列名"></a>2.DataFrame各列name属性:列名</h4><ul>
<li>rename(columns={…})</li>
</ul>
<p>按上一列：</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">#【给指定列的标题换个新名字】注意，第2、3列标题</span></span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>a.rename(columns=&#123;<span class="string">'close'</span>:<span class="string">'new_close'</span>,<span class="string">'open'</span>:<span class="string">'new_open'</span>&#125;)</span><br><span class="line">      id      date  new_open  new_close    high     low  volume   code</span><br><span class="line">n_id</span><br><span class="line"><span class="number">0</span>      <span class="number">0</span>  <span class="number">2007</span><span class="number">-3</span><span class="number">-1</span>    <span class="number">20.123</span>     <span class="number">21.569</span>  <span class="number">30.123</span>  <span class="number">30.123</span>  <span class="number">159899</span>  <span class="number">15223</span></span><br></pre></td></tr></table></figure>

<h3 id="3-3DataFrame索引和切片"><a href="#3-3DataFrame索引和切片" class="headerlink" title="3.3DataFrame索引和切片"></a>3.3DataFrame索引和切片</h3><h4 id="1）DataFrame有行索引和列索引。通过标签获取："><a href="#1）DataFrame有行索引和列索引。通过标签获取：" class="headerlink" title="1）DataFrame有行索引和列索引。通过标签获取："></a>1）DataFrame有行索引和列索引。通过标签获取：</h4><ul>
<li>df[‘A’]   </li>
<li>df[‘A’, ‘B’]]</li>
<li>df[‘A’][0]   此处0代表是标签（值）‘0’，而不是索引（位置）0，正确要用df[‘A’].iloc[0]</li>
<li>df[0:10][[‘A’， ‘C’]]</li>
</ul>
<h4 id="2）因1-方法会导致问题，建议用-loc-iloc（即指定根据标签索引）"><a href="#2）因1-方法会导致问题，建议用-loc-iloc（即指定根据标签索引）" class="headerlink" title="2）因1)方法会导致问题，建议用.loc,iloc（即指定根据标签索引）"></a>2）因1)方法会导致问题，<font color='red'>建议用.loc,iloc（即指定根据标签索引）</font></h4><ul>
<li>df.loc[:,[‘A’,’B’]]   【行】按索引（位置序号）取值。</li>
<li>df.loc[:’A:’C’]</li>
<li>df.loc[0,’A’]</li>
<li>df.loc[0:10,[‘A’,’C’]]</li>
<li>df.iloc[0:2,0:2]       【行、列】都按索引（位置序号）取值。（数字来取值）</li>
</ul>
<p>表格内容：</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line">      id      date  new_open  new_close    high     low  volume   code</span><br><span class="line"><span class="number">0</span>      <span class="number">0</span>  <span class="number">2007</span><span class="number">-3</span><span class="number">-1</span>    <span class="number">20.123</span>     <span class="number">21.569</span>  <span class="number">30.123</span>  <span class="number">30.123</span>  <span class="number">159899</span>  <span class="number">15223</span></span><br><span class="line"><span class="number">1</span>      <span class="number">1</span>  <span class="number">2007</span><span class="number">-3</span><span class="number">-1</span>    <span class="number">21.123</span>     <span class="number">22.569</span>  <span class="number">31.123</span>  <span class="number">31.123</span>  <span class="number">159900</span>  <span class="number">15223</span></span><br><span class="line"><span class="number">2</span>      <span class="number">2</span>  <span class="number">2007</span><span class="number">-3</span><span class="number">-1</span>    <span class="number">22.123</span>     <span class="number">23.569</span>  <span class="number">32.123</span>  <span class="number">32.123</span>  <span class="number">159901</span>  <span class="number">15223</span></span><br><span class="line"><span class="number">3</span>      <span class="number">3</span>  <span class="number">2007</span><span class="number">-3</span><span class="number">-1</span>    <span class="number">23.123</span>     <span class="number">24.569</span>  <span class="number">33.123</span>  <span class="number">33.123</span>  <span class="number">159902</span>  <span class="number">15223</span></span><br><span class="line"><span class="number">4</span>      <span class="number">4</span>  <span class="number">2007</span><span class="number">-4</span><span class="number">-1</span>    <span class="number">24.123</span>     <span class="number">25.569</span>  <span class="number">34.123</span>  <span class="number">34.123</span>  <span class="number">159903</span>  <span class="number">15223</span></span><br><span class="line"><span class="number">5</span>      <span class="number">5</span>  <span class="number">2007</span><span class="number">-4</span><span class="number">-2</span>    <span class="number">25.123</span>     <span class="number">26.569</span>  <span class="number">35.123</span>  <span class="number">35.123</span>  <span class="number">159904</span>  <span class="number">15224</span></span><br><span class="line"><span class="number">6</span>      <span class="number">6</span>  <span class="number">2007</span><span class="number">-4</span><span class="number">-3</span>    <span class="number">26.123</span>     <span class="number">27.569</span>  <span class="number">36.123</span>  <span class="number">36.123</span>  <span class="number">159905</span>  <span class="number">15223</span></span><br><span class="line"><span class="number">7</span>      <span class="number">7</span>  <span class="number">2007</span><span class="number">-4</span><span class="number">-4</span>    <span class="number">27.123</span>     <span class="number">28.569</span>  <span class="number">37.123</span>  <span class="number">37.123</span>  <span class="number">159906</span>  <span class="number">15224</span></span><br><span class="line"><span class="number">8</span>      <span class="number">8</span>  <span class="number">2007</span><span class="number">-4</span><span class="number">-5</span>    <span class="number">28.123</span>     <span class="number">29.569</span>  <span class="number">38.123</span>  <span class="number">38.123</span>  <span class="number">159907</span>  <span class="number">15223</span></span><br><span class="line"><span class="number">9</span>      <span class="number">9</span>  <span class="number">2007</span><span class="number">-4</span><span class="number">-6</span>    <span class="number">29.123</span>     <span class="number">30.569</span>  <span class="number">39.123</span>  <span class="number">39.123</span>  <span class="number">159908</span>  <span class="number">15224</span></span><br><span class="line"><span class="number">10</span>    <span class="number">10</span>  <span class="number">2007</span><span class="number">-4</span><span class="number">-7</span>    <span class="number">30.123</span>     <span class="number">31.569</span>  <span class="number">40.123</span>  <span class="number">40.123</span>  <span class="number">159909</span>  <span class="number">15224</span></span><br><span class="line"><span class="number">11</span>    <span class="number">11</span>  <span class="number">2008</span><span class="number">-9</span><span class="number">-1</span>    <span class="number">31.123</span>     <span class="number">32.569</span>  <span class="number">41.123</span>  <span class="number">41.123</span>  <span class="number">159910</span>  <span class="number">15224</span></span><br><span class="line"><span class="number">12</span>    <span class="number">12</span>  <span class="number">2008</span><span class="number">-9</span><span class="number">-2</span>    <span class="number">32.123</span>     <span class="number">33.569</span>  <span class="number">42.123</span>  <span class="number">42.123</span>  <span class="number">159911</span>  <span class="number">15224</span></span><br><span class="line"><span class="number">13</span>    <span class="number">13</span>  <span class="number">2008</span><span class="number">-9</span><span class="number">-3</span>    <span class="number">33.123</span>     <span class="number">34.569</span>  <span class="number">43.123</span>  <span class="number">43.123</span>  <span class="number">159912</span>  <span class="number">15224</span></span><br><span class="line"><span class="number">14</span>    <span class="number">14</span>  <span class="number">2008</span><span class="number">-9</span><span class="number">-4</span>    <span class="number">34.123</span>     <span class="number">35.569</span>  <span class="number">44.123</span>  <span class="number">44.123</span>  <span class="number">159913</span>  <span class="number">15224</span></span><br><span class="line"><span class="number">15</span>    <span class="number">15</span>  <span class="number">2008</span><span class="number">-9</span><span class="number">-5</span>    <span class="number">35.123</span>     <span class="number">36.569</span>  <span class="number">45.123</span>  <span class="number">45.123</span>  <span class="number">159914</span>  <span class="number">15224</span></span><br><span class="line"><span class="number">16</span>    <span class="number">16</span>  <span class="number">2008</span><span class="number">-9</span><span class="number">-6</span>    <span class="number">36.123</span>     <span class="number">37.569</span>  <span class="number">46.123</span>  <span class="number">46.123</span>  <span class="number">159915</span>  <span class="number">15224</span></span><br><span class="line"><span class="number">17</span>    <span class="number">17</span>  <span class="number">2008</span><span class="number">-9</span><span class="number">-7</span>    <span class="number">37.123</span>     <span class="number">38.569</span>  <span class="number">47.123</span>  <span class="number">47.123</span>  <span class="number">159916</span>  <span class="number">15224</span></span><br><span class="line"><span class="number">18</span>    <span class="number">18</span>  <span class="number">2008</span><span class="number">-9</span><span class="number">-8</span>    <span class="number">38.123</span>     <span class="number">39.569</span>  <span class="number">48.123</span>  <span class="number">48.123</span>  <span class="number">159917</span>  <span class="number">15224</span></span><br></pre></td></tr></table></figure>
<h5 id="1-普通索引示例："><a href="#1-普通索引示例：" class="headerlink" title="1) 普通索引示例："></a>1) 普通索引示例：</h5><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">#【date列的第3个值】</span></span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>a[<span class="string">'date'</span>][<span class="number">2</span>]</span><br><span class="line"><span class="string">'2007-3-1'</span></span><br><span class="line"><span class="comment">#【拿date、open两列】</span></span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>a[[<span class="string">'date'</span>,<span class="string">'open'</span>]]</span><br><span class="line">          date    open</span><br><span class="line"><span class="number">0</span>     <span class="number">2007</span><span class="number">-3</span><span class="number">-1</span>  <span class="number">20.123</span></span><br><span class="line"><span class="number">1</span>     <span class="number">2007</span><span class="number">-3</span><span class="number">-1</span>  <span class="number">21.123</span></span><br><span class="line">...</span><br><span class="line"><span class="number">18</span>    <span class="number">2008</span><span class="number">-9</span><span class="number">-8</span>  <span class="number">38.123</span></span><br><span class="line"><span class="comment">#【取0-9行所有】</span></span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>a[<span class="number">0</span>:<span class="number">10</span>]</span><br><span class="line">      id      date    open   close    high     low  volume   code</span><br><span class="line"><span class="number">0</span>      <span class="number">0</span>  <span class="number">2007</span><span class="number">-3</span><span class="number">-1</span>  <span class="number">20.123</span>  <span class="number">21.569</span>  <span class="number">30.123</span>  <span class="number">30.123</span>  <span class="number">159899</span>  <span class="number">15223</span></span><br><span class="line"><span class="number">1</span>      <span class="number">1</span>  <span class="number">2007</span><span class="number">-3</span><span class="number">-1</span>  <span class="number">21.123</span>  <span class="number">22.569</span>  <span class="number">31.123</span>  <span class="number">31.123</span>  <span class="number">159900</span>  <span class="number">15223</span></span><br><span class="line">...</span><br><span class="line"><span class="number">9</span>      <span class="number">9</span>  <span class="number">2007</span><span class="number">-4</span><span class="number">-6</span>  <span class="number">29.123</span>  <span class="number">30.569</span>  <span class="number">39.123</span>  <span class="number">39.123</span>  <span class="number">159908</span>  <span class="number">15224</span></span><br><span class="line"><span class="comment">#【取前3行，第close,open列所有值】</span></span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>a[<span class="number">0</span>:<span class="number">3</span>][[<span class="string">'close'</span>,<span class="string">'open'</span>]]</span><br><span class="line">       close    open</span><br><span class="line"><span class="number">0</span>     <span class="number">21.569</span>  <span class="number">20.123</span></span><br><span class="line"><span class="number">1</span>     <span class="number">22.569</span>  <span class="number">21.123</span></span><br><span class="line"><span class="number">2</span>     <span class="number">23.569</span>  <span class="number">22.123</span></span><br></pre></td></tr></table></figure>
<h5 id="2）loc、iloc索引示例"><a href="#2）loc、iloc索引示例" class="headerlink" title="2）loc、iloc索引示例"></a>2）loc、iloc索引示例</h5><p>df.loc[:,[‘a’,’b’]] 和 df.iloc[0:2,0:2] </p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">#【行按索引，取所有行，date,close列】</span></span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>a.loc[:,[<span class="string">'date'</span>,<span class="string">'close'</span>]]</span><br><span class="line">        date   close</span><br><span class="line"><span class="number">0</span>   <span class="number">2007</span><span class="number">-3</span><span class="number">-1</span>  <span class="number">21.569</span></span><br><span class="line"><span class="number">1</span>   <span class="number">2007</span><span class="number">-3</span><span class="number">-1</span>  <span class="number">22.569</span></span><br><span class="line"><span class="number">2</span>   <span class="number">2007</span><span class="number">-3</span><span class="number">-1</span>  <span class="number">23.569</span></span><br><span class="line">...</span><br><span class="line"><span class="number">18</span>  <span class="number">2008</span><span class="number">-9</span><span class="number">-8</span>  <span class="number">39.569</span></span><br><span class="line"><span class="comment">#【行按索引，取1到3行，date,close列】</span></span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>a.loc[<span class="number">1</span>:<span class="number">3</span>,[<span class="string">'date'</span>,<span class="string">'close'</span>]]</span><br><span class="line">       date   close</span><br><span class="line"><span class="number">1</span>  <span class="number">2007</span><span class="number">-3</span><span class="number">-1</span>  <span class="number">22.569</span></span><br><span class="line"><span class="number">2</span>  <span class="number">2007</span><span class="number">-3</span><span class="number">-1</span>  <span class="number">23.569</span></span><br><span class="line"><span class="number">3</span>  <span class="number">2007</span><span class="number">-3</span><span class="number">-1</span>  <span class="number">24.569</span></span><br><span class="line"><span class="comment">#【行列都按索引，取0-3行，2-4列值】</span></span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>a.iloc[:<span class="number">3</span>,<span class="number">2</span>:<span class="number">4</span>]</span><br><span class="line">     open   close</span><br><span class="line"><span class="number">0</span>  <span class="number">20.123</span>  <span class="number">21.569</span></span><br><span class="line"><span class="number">1</span>  <span class="number">21.123</span>  <span class="number">22.569</span></span><br><span class="line"><span class="number">2</span>  <span class="number">22.123</span>  <span class="number">23.569</span></span><br></pre></td></tr></table></figure>
<h4 id="3）按布尔取值（条件取值）"><a href="#3）按布尔取值（条件取值）" class="headerlink" title="3）按布尔取值（条件取值）"></a>3）按布尔取值（条件取值）</h4><p>通过布尔值过滤:<br>df[df[‘A’]]&gt;0]<br>df[df[‘A’].isin([1,3,5])]<br>df[df&lt;0] = 0   </p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">#【open列哪些大于18】</span></span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>a[<span class="string">'close'</span>]&gt;<span class="number">20</span></span><br><span class="line"><span class="number">0</span>     <span class="literal">True</span></span><br><span class="line"><span class="number">1</span>     <span class="literal">True</span></span><br><span class="line">...</span><br><span class="line"><span class="number">5</span>     <span class="literal">True</span></span><br><span class="line"><span class="comment">#【★取出open列大于18的所有值】</span></span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>a[a[<span class="string">'open'</span>]&gt;<span class="number">18</span>]</span><br><span class="line">    id      date    open   close    high     low  volume   code</span><br><span class="line"><span class="number">0</span>    <span class="number">0</span>  <span class="number">2007</span><span class="number">-3</span><span class="number">-1</span>  <span class="number">20.123</span>  <span class="number">21.569</span>  <span class="number">30.123</span>  <span class="number">30.123</span>  <span class="number">159899</span>  <span class="number">15223</span></span><br><span class="line"><span class="number">1</span>    <span class="number">1</span>  <span class="number">2007</span><span class="number">-3</span><span class="number">-1</span>  <span class="number">21.123</span>  <span class="number">22.569</span>  <span class="number">31.123</span>  <span class="number">31.123</span>  <span class="number">159900</span>  <span class="number">15223</span></span><br><span class="line">...</span><br><span class="line"><span class="number">5</span>    <span class="number">5</span>  <span class="number">2007</span><span class="number">-4</span><span class="number">-2</span>  <span class="number">25.123</span>  <span class="number">26.569</span>  <span class="number">35.123</span>  <span class="number">35.123</span>  <span class="number">159904</span>  <span class="number">15224</span></span><br><span class="line"><span class="comment">#【把所有大于30的数找出来】</span></span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span><span class="keyword">import</span> pandas <span class="keyword">as</span> pd</span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>a=pd.read_csv(<span class="string">'jr.csv'</span>)</span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>a2=a.loc[:,<span class="string">'open'</span>:<span class="string">'volume'</span>].copy() <span class="comment">#取出除时间外所有列（因为第一列时间是字符串，数据类型不同）</span></span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>a2</span><br><span class="line">      open   close    high     low  volume</span><br><span class="line"><span class="number">0</span>   <span class="number">20.123</span>  <span class="number">21.569</span>  <span class="number">30.123</span>  <span class="number">30.123</span>  <span class="number">159899</span></span><br><span class="line"><span class="number">1</span>   <span class="number">21.123</span>  <span class="number">22.569</span>  <span class="number">31.123</span>  <span class="number">31.123</span>  <span class="number">159900</span></span><br><span class="line">....</span><br><span class="line"><span class="number">18</span>  <span class="number">38.123</span>  <span class="number">39.569</span>  <span class="number">48.123</span>  <span class="number">48.123</span>  <span class="number">159917</span></span><br><span class="line"></span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>a2&gt;<span class="number">30</span>  <span class="comment">#看看哪些大于30，返回布尔</span></span><br><span class="line">     open  close  high   low  volume</span><br><span class="line"><span class="number">0</span>   <span class="literal">False</span>  <span class="literal">False</span>  <span class="literal">True</span>  <span class="literal">True</span>    <span class="literal">True</span></span><br><span class="line"><span class="number">1</span>   <span class="literal">False</span>  <span class="literal">False</span>  <span class="literal">True</span>  <span class="literal">True</span>    <span class="literal">True</span></span><br><span class="line">...</span><br><span class="line"><span class="number">18</span>   <span class="literal">True</span>   <span class="literal">True</span>  <span class="literal">True</span>  <span class="literal">True</span>    <span class="literal">True</span></span><br><span class="line"></span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>a2[a2&gt;<span class="number">30</span>]  <span class="comment">#只显示大于30的数</span></span><br><span class="line">      open   close    high     low  volume</span><br><span class="line"><span class="number">0</span>      NaN     NaN  <span class="number">30.123</span>  <span class="number">30.123</span>  <span class="number">159899</span></span><br><span class="line"><span class="number">1</span>      NaN     NaN  <span class="number">31.123</span>  <span class="number">31.123</span>  <span class="number">159900</span></span><br><span class="line"><span class="number">2</span>      NaN     NaN  <span class="number">32.123</span>  <span class="number">32.123</span>  <span class="number">159901</span></span><br><span class="line"><span class="number">3</span>      NaN     NaN  <span class="number">33.123</span>  <span class="number">33.123</span>  <span class="number">159902</span></span><br><span class="line">...</span><br><span class="line"><span class="number">17</span>  <span class="number">37.123</span>  <span class="number">38.569</span>  <span class="number">47.123</span>  <span class="number">47.123</span>  <span class="number">159916</span></span><br><span class="line"><span class="number">18</span>  <span class="number">38.123</span>  <span class="number">39.569</span>  <span class="number">48.123</span>  <span class="number">48.123</span>  <span class="number">159917</span></span><br><span class="line"></span><br><span class="line"><span class="comment">#-----【把大于30的数改为0】---------</span></span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>a2[a2&gt;<span class="number">30</span>].fillna(<span class="number">0</span>) <span class="comment">#用fillna（）原因见上一步，NaN</span></span><br><span class="line">      open   close    high     low  volume</span><br><span class="line"><span class="number">0</span>    <span class="number">0.000</span>   <span class="number">0.000</span>  <span class="number">30.123</span>  <span class="number">30.123</span>  <span class="number">159899</span></span><br><span class="line"><span class="number">1</span>    <span class="number">0.000</span>   <span class="number">0.000</span>  <span class="number">31.123</span>  <span class="number">31.123</span>  <span class="number">159900</span></span><br><span class="line">...</span><br><span class="line"><span class="number">17</span>  <span class="number">37.123</span>  <span class="number">38.569</span>  <span class="number">47.123</span>  <span class="number">47.123</span>  <span class="number">159916</span></span><br><span class="line"><span class="number">18</span>  <span class="number">38.123</span>  <span class="number">39.569</span>  <span class="number">48.123</span>  <span class="number">48.123</span>  <span class="number">159917</span></span><br><span class="line"></span><br><span class="line"><span class="comment">#-------------【挑出含指定内容的行】------</span></span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>a[a[<span class="string">'date'</span>].isin([<span class="string">'2007-3-1'</span>,<span class="string">'2007-4-2'</span>])]</span><br><span class="line">   id      date    open   close    high     low  volume   code</span><br><span class="line"><span class="number">0</span>   <span class="number">0</span>  <span class="number">2007</span><span class="number">-3</span><span class="number">-1</span>  <span class="number">20.123</span>  <span class="number">21.569</span>  <span class="number">30.123</span>  <span class="number">30.123</span>  <span class="number">159899</span>  <span class="number">15223</span></span><br><span class="line"><span class="number">1</span>   <span class="number">1</span>  <span class="number">2007</span><span class="number">-3</span><span class="number">-1</span>  <span class="number">21.123</span>  <span class="number">22.569</span>  <span class="number">31.123</span>  <span class="number">31.123</span>  <span class="number">159900</span>  <span class="number">15223</span></span><br><span class="line"><span class="number">2</span>   <span class="number">2</span>  <span class="number">2007</span><span class="number">-3</span><span class="number">-1</span>  <span class="number">22.123</span>  <span class="number">23.569</span>  <span class="number">32.123</span>  <span class="number">32.123</span>  <span class="number">159901</span>  <span class="number">15223</span></span><br><span class="line"><span class="number">3</span>   <span class="number">3</span>  <span class="number">2007</span><span class="number">-3</span><span class="number">-1</span>  <span class="number">23.123</span>  <span class="number">24.569</span>  <span class="number">33.123</span>  <span class="number">33.123</span>  <span class="number">159902</span>  <span class="number">15223</span></span><br><span class="line"><span class="number">5</span>   <span class="number">5</span>  <span class="number">2007</span><span class="number">-4</span><span class="number">-2</span>  <span class="number">25.123</span>  <span class="number">26.569</span>  <span class="number">35.123</span>  <span class="number">35.123</span>  <span class="number">159904</span>  <span class="number">15224</span></span><br><span class="line"><span class="comment">#------【笨方法】</span></span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>a[(a[<span class="string">'date'</span>]==<span class="string">'2007-3-1'</span>) | (a[<span class="string">'date'</span>]==<span class="string">'2007-4-2'</span>)]</span><br><span class="line">   id      date    open   close    high     low  volume   code</span><br><span class="line"><span class="number">0</span>   <span class="number">0</span>  <span class="number">2007</span><span class="number">-3</span><span class="number">-1</span>  <span class="number">20.123</span>  <span class="number">21.569</span>  <span class="number">30.123</span>  <span class="number">30.123</span>  <span class="number">159899</span>  <span class="number">15223</span></span><br><span class="line"><span class="number">1</span>   <span class="number">1</span>  <span class="number">2007</span><span class="number">-3</span><span class="number">-1</span>  <span class="number">21.123</span>  <span class="number">22.569</span>  <span class="number">31.123</span>  <span class="number">31.123</span>  <span class="number">159900</span>  <span class="number">15223</span></span><br><span class="line"><span class="number">2</span>   <span class="number">2</span>  <span class="number">2007</span><span class="number">-3</span><span class="number">-1</span>  <span class="number">22.123</span>  <span class="number">23.569</span>  <span class="number">32.123</span>  <span class="number">32.123</span>  <span class="number">159901</span>  <span class="number">15223</span></span><br><span class="line"><span class="number">3</span>   <span class="number">3</span>  <span class="number">2007</span><span class="number">-3</span><span class="number">-1</span>  <span class="number">23.123</span>  <span class="number">24.569</span>  <span class="number">33.123</span>  <span class="number">33.123</span>  <span class="number">159902</span>  <span class="number">15223</span></span><br><span class="line"><span class="number">5</span>   <span class="number">5</span>  <span class="number">2007</span><span class="number">-4</span><span class="number">-2</span>  <span class="number">25.123</span>  <span class="number">26.569</span>  <span class="number">35.123</span>  <span class="number">35.123</span>  <span class="number">159904</span>  <span class="number">15224</span></span><br><span class="line"></span><br><span class="line"><span class="comment">#【当所有数据类型统一没有‘字符串’时，大于指定值的所有数据都变成0】</span></span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>a2[a2&gt;<span class="number">30</span>]=<span class="number">0</span></span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>a2</span><br><span class="line">      open   close  high  low  volume</span><br><span class="line"><span class="number">0</span>   <span class="number">20.123</span>  <span class="number">21.569</span>   <span class="number">0.0</span>  <span class="number">0.0</span>       <span class="number">0</span></span><br><span class="line"><span class="number">1</span>   <span class="number">21.123</span>  <span class="number">22.569</span>   <span class="number">0.0</span>  <span class="number">0.0</span>       <span class="number">0</span></span><br><span class="line"><span class="number">2</span>   <span class="number">22.123</span>  <span class="number">23.569</span>   <span class="number">0.0</span>  <span class="number">0.0</span>       <span class="number">0</span></span><br><span class="line"><span class="number">3</span>   <span class="number">23.123</span>  <span class="number">24.569</span>   <span class="number">0.0</span>  <span class="number">0.0</span>       <span class="number">0</span></span><br><span class="line"><span class="number">4</span>   <span class="number">24.123</span>  <span class="number">25.569</span>   <span class="number">0.0</span>  <span class="number">0.0</span>       <span class="number">0</span></span><br><span class="line"><span class="number">5</span>   <span class="number">25.123</span>  <span class="number">26.569</span>   <span class="number">0.0</span>  <span class="number">0.0</span>       <span class="number">0</span></span><br><span class="line"><span class="number">6</span>   <span class="number">26.123</span>  <span class="number">27.569</span>   <span class="number">0.0</span>  <span class="number">0.0</span>       <span class="number">0</span></span><br><span class="line"><span class="number">7</span>   <span class="number">27.123</span>  <span class="number">28.569</span>   <span class="number">0.0</span>  <span class="number">0.0</span>       <span class="number">0</span></span><br><span class="line"><span class="number">8</span>   <span class="number">28.123</span>  <span class="number">29.569</span>   <span class="number">0.0</span>  <span class="number">0.0</span>       <span class="number">0</span></span><br><span class="line"><span class="number">9</span>   <span class="number">29.123</span>   <span class="number">0.000</span>   <span class="number">0.0</span>  <span class="number">0.0</span>       <span class="number">0</span></span><br></pre></td></tr></table></figure>
<h3 id="3-4DataFrame：数据对齐-amp-缺失数据"><a href="#3-4DataFrame：数据对齐-amp-缺失数据" class="headerlink" title="3.4DataFrame：数据对齐 &amp; 缺失数据"></a>3.4DataFrame：数据对齐 &amp; 缺失数据</h3><ol>
<li>【对齐】DataFrame对象在运算时，同样会进行数据对齐，结果的行索引与列索引分别为两个操作数的行索引与列索引的并集。</li>
<li><strong>DataFrame处理缺失数据的方法:</strong></li>
</ol>
<ul>
<li>dropna(axis=0,where=’any’…)</li>
<li>fillna()</li>
<li>isnull()</li>
<li>notnull()</li>
</ul>
<p>1) 对齐：</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">#【两个Df可直接相加，标题相同的列相加后对齐，没有的列数据做NaN处理】</span></span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>a+a2</span><br><span class="line">     close  code date    high  id     low    open  volume</span><br><span class="line"><span class="number">0</span>   <span class="number">43.138</span>   NaN  NaN  <span class="number">30.123</span> NaN  <span class="number">30.123</span>  <span class="number">40.246</span>  <span class="number">159899</span></span><br><span class="line"><span class="number">1</span>   <span class="number">45.138</span>   NaN  NaN  <span class="number">31.123</span> NaN  <span class="number">31.123</span>  <span class="number">42.246</span>  <span class="number">159900</span></span><br><span class="line"><span class="number">2</span>   <span class="number">47.138</span>   NaN  NaN  <span class="number">32.123</span> NaN  <span class="number">32.123</span>  <span class="number">44.246</span>  <span class="number">159901</span></span><br><span class="line"><span class="number">3</span>   <span class="number">49.138</span>   NaN  NaN  <span class="number">33.123</span> NaN  <span class="number">33.123</span>  <span class="number">46.246</span>  <span class="number">159902</span></span><br></pre></td></tr></table></figure>
<p>2）缺失数据处理</p>
<ul>
<li>dropna(axis=0,where=’any’…)  #丢掉缺失数据</li>
<li>fillna()                                      #填充缺失数据为</li>
<li>isnull()                                      # 判断是不是空</li>
<li>notnull()                                      #判断是不是不为空<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">#接上一步a+a2</span></span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>b=_</span><br><span class="line"><span class="comment">#【isnull()】</span></span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>b.isnull()</span><br><span class="line">    close  code  date   high    id    low   open  volume</span><br><span class="line"><span class="number">0</span>   <span class="literal">False</span>  <span class="literal">True</span>  <span class="literal">True</span>  <span class="literal">False</span>  <span class="literal">True</span>  <span class="literal">False</span>  <span class="literal">False</span>   <span class="literal">False</span></span><br><span class="line"><span class="number">1</span>   <span class="literal">False</span>  <span class="literal">True</span>  <span class="literal">True</span>  <span class="literal">False</span>  <span class="literal">True</span>  <span class="literal">False</span>  <span class="literal">False</span>   <span class="literal">False</span></span><br><span class="line">...</span><br><span class="line"><span class="comment">#【notnull()】</span></span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>b.notnull()</span><br><span class="line">    close   code   date  high     id   low  open  volume</span><br><span class="line"><span class="number">0</span>    <span class="literal">True</span>  <span class="literal">False</span>  <span class="literal">False</span>  <span class="literal">True</span>  <span class="literal">False</span>  <span class="literal">True</span>  <span class="literal">True</span>    <span class="literal">True</span></span><br><span class="line"><span class="number">1</span>    <span class="literal">True</span>  <span class="literal">False</span>  <span class="literal">False</span>  <span class="literal">True</span>  <span class="literal">False</span>  <span class="literal">True</span>  <span class="literal">True</span>    <span class="literal">True</span></span><br><span class="line"></span><br><span class="line"><span class="comment">#【fillna()】</span></span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>b</span><br><span class="line">     close  code date    high  id     low    open  volume</span><br><span class="line"><span class="number">0</span>   <span class="number">43.138</span>   NaN  NaN  <span class="number">30.123</span> NaN  <span class="number">30.123</span>  <span class="number">40.246</span>  <span class="number">159899</span></span><br><span class="line"><span class="number">1</span>   <span class="number">45.138</span>   NaN  NaN  <span class="number">31.123</span> NaN  <span class="number">31.123</span>  <span class="number">42.246</span>  <span class="number">159900</span></span><br><span class="line"><span class="number">2</span>   <span class="number">47.138</span>   NaN  NaN  <span class="number">32.123</span> NaN  <span class="number">32.123</span>  <span class="number">44.246</span>  <span class="number">159901</span></span><br><span class="line"><span class="number">3</span>   <span class="number">49.138</span>   NaN  NaN  <span class="number">33.123</span> NaN  <span class="number">33.123</span>  <span class="number">46.246</span>  <span class="number">159902</span></span><br><span class="line"><span class="comment">#【nan填充为0.001】</span></span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>b.fillna(<span class="number">0.001</span>)</span><br><span class="line">     close   code   date    high     id     low    open  volume</span><br><span class="line"><span class="number">0</span>   <span class="number">43.138</span>  <span class="number">0.001</span>  <span class="number">0.001</span>  <span class="number">30.123</span>  <span class="number">0.001</span>  <span class="number">30.123</span>  <span class="number">40.246</span>  <span class="number">159899</span></span><br><span class="line"><span class="number">1</span>   <span class="number">45.138</span>  <span class="number">0.001</span>  <span class="number">0.001</span>  <span class="number">31.123</span>  <span class="number">0.001</span>  <span class="number">31.123</span>  <span class="number">42.246</span>  <span class="number">159900</span></span><br><span class="line"><span class="number">2</span>   <span class="number">47.138</span>  <span class="number">0.001</span>  <span class="number">0.001</span>  <span class="number">32.123</span>  <span class="number">0.001</span>  <span class="number">32.123</span>  <span class="number">44.246</span>  <span class="number">159901</span></span><br><span class="line"><span class="number">3</span>   <span class="number">49.138</span>  <span class="number">0.001</span>  <span class="number">0.001</span>  <span class="number">33.123</span>  <span class="number">0.001</span>  <span class="number">33.123</span>  <span class="number">46.246</span>  <span class="number">159902</span></span><br><span class="line"></span><br><span class="line"><span class="comment">#【dropna()】</span></span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>b.dropna() <span class="comment">#不填参数意思是：把含有nan的行数据全部删除，所以结果将为空表</span></span><br><span class="line">Empty DataFrame</span><br><span class="line">Columns: [close, code, date, high, id, low, open, volume]</span><br><span class="line">Index: []</span><br><span class="line"></span><br><span class="line"><span class="comment">#【加参数：把一行所有数据都为NaN的数据删除】，结果都在，因为没一行是全为NaN的</span></span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>b.dropna(how=<span class="string">'all'</span>)</span><br><span class="line">     close  code date    high  id     low    open  volume</span><br><span class="line"><span class="number">0</span>   <span class="number">43.138</span>   NaN  NaN  <span class="number">30.123</span> NaN  <span class="number">30.123</span>  <span class="number">40.246</span>  <span class="number">159899</span></span><br><span class="line"><span class="number">1</span>   <span class="number">45.138</span>   NaN  NaN  <span class="number">31.123</span> NaN  <span class="number">31.123</span>  <span class="number">42.246</span>  <span class="number">159900</span></span><br><span class="line"><span class="number">2</span>   <span class="number">47.138</span>   NaN  NaN  <span class="number">32.123</span> NaN  <span class="number">32.123</span>  <span class="number">44.246</span>  <span class="number">159901</span></span><br><span class="line">...</span><br><span class="line"><span class="number">18</span>  <span class="number">39.569</span>   NaN  NaN  <span class="number">48.123</span> NaN  <span class="number">48.123</span>  <span class="number">38.123</span>  <span class="number">159917</span></span><br><span class="line"></span><br><span class="line"><span class="comment">#【axis=0表示看行，=1看列】</span></span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>b.dropna(how=<span class="string">'all'</span>,axis=<span class="number">1</span>)  <span class="comment">#结果删除了有NaN的列</span></span><br><span class="line">     close    high     low    open  volume</span><br><span class="line"><span class="number">0</span>   <span class="number">43.138</span>  <span class="number">30.123</span>  <span class="number">30.123</span>  <span class="number">40.246</span>  <span class="number">159899</span></span><br><span class="line"><span class="number">1</span>   <span class="number">45.138</span>  <span class="number">31.123</span>  <span class="number">31.123</span>  <span class="number">42.246</span>  <span class="number">159900</span></span><br><span class="line">...</span><br><span class="line"><span class="number">18</span>  <span class="number">39.569</span>  <span class="number">48.123</span>  <span class="number">48.123</span>  <span class="number">38.123</span>  <span class="number">159917</span></span><br></pre></td></tr></table></figure>

</li>
</ul>
<h3 id="4-pandas其它常用方法："><a href="#4-pandas其它常用方法：" class="headerlink" title="4.pandas其它常用方法："></a>4.pandas其它常用方法：</h3><ol>
<li>pandas常用方法(适用Series和DataFrame)：</li>
<li>mean(axis=0,skipna= False)</li>
<li>sum(axis=1)</li>
<li>sort_index(axis, .. ascending=true)  按行或列索引排序 (ascending(升序))</li>
<li>sort_values(by, axis, ascending)  按值排序</li>
<li>NumPy的通用函数同样适用于pandas</li>
<li>apply(func, axis=0) 将自定义函数应用在各行或者各列上，func可返回标量或者Series</li>
<li>applymap(func)  将函数应用在DataFrame各个元素上</li>
<li>map(func)  将函数应用在Series各个元素上</li>
</ol>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">#按索引列降序排列</span></span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>b.sort_index(ascending=<span class="literal">False</span>) </span><br><span class="line">     close  code date    high  id     low    open  volume</span><br><span class="line"><span class="number">18</span>  <span class="number">39.569</span>   NaN  NaN  <span class="number">48.123</span> NaN  <span class="number">48.123</span>  <span class="number">38.123</span>  <span class="number">159917</span></span><br><span class="line"><span class="number">17</span>  <span class="number">38.569</span>   NaN  NaN  <span class="number">47.123</span> NaN  <span class="number">47.123</span>  <span class="number">37.123</span>  <span class="number">159916</span></span><br><span class="line">...</span><br><span class="line"><span class="number">1</span>   <span class="number">45.138</span>   NaN  NaN  <span class="number">31.123</span> NaN  <span class="number">31.123</span>  <span class="number">42.246</span>  <span class="number">159900</span></span><br><span class="line"><span class="number">0</span>   <span class="number">43.138</span>   NaN  NaN  <span class="number">30.123</span> NaN  <span class="number">30.123</span>  <span class="number">40.246</span>  <span class="number">159899</span></span><br><span class="line"></span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>b.sort_index(ascending=<span class="literal">False</span>,axis=<span class="number">1</span>) <span class="comment"># 按标题降序排列</span></span><br><span class="line">    volume    open     low  id    high date  code   close</span><br><span class="line"><span class="number">0</span>   <span class="number">159899</span>  <span class="number">40.246</span>  <span class="number">30.123</span> NaN  <span class="number">30.123</span>  NaN   NaN  <span class="number">43.138</span></span><br><span class="line"><span class="number">1</span>   <span class="number">159900</span>  <span class="number">42.246</span>  <span class="number">31.123</span> NaN  <span class="number">31.123</span>  NaN   NaN  <span class="number">45.138</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span><span class="keyword">import</span> pandas <span class="keyword">as</span> pd</span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>a=pd.read_csv(<span class="string">'jr.csv'</span>)</span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>a</span><br><span class="line">    id      date    open   close    high     low  volume   code</span><br><span class="line"><span class="number">0</span>    <span class="number">0</span>  <span class="number">2007</span><span class="number">-3</span><span class="number">-1</span>  <span class="number">20.123</span>  <span class="number">21.569</span>  <span class="number">30.123</span>  <span class="number">30.123</span>  <span class="number">159899</span>  <span class="number">15223</span></span><br><span class="line"><span class="number">1</span>    <span class="number">1</span>  <span class="number">2007</span><span class="number">-3</span><span class="number">-1</span>  <span class="number">21.123</span>  <span class="number">22.569</span>  <span class="number">31.123</span>  <span class="number">31.123</span>  <span class="number">159900</span>  <span class="number">15223</span></span><br><span class="line"><span class="number">2</span>    <span class="number">2</span>  <span class="number">2007</span><span class="number">-3</span><span class="number">-1</span>  <span class="number">22.123</span>  <span class="number">23.569</span>  <span class="number">32.123</span>  <span class="number">32.123</span>  <span class="number">159901</span>  <span class="number">15223</span></span><br><span class="line"><span class="number">3</span>    <span class="number">3</span>  <span class="number">2007</span><span class="number">-3</span><span class="number">-1</span>  <span class="number">23.123</span>  <span class="number">24.569</span>  <span class="number">33.123</span>  <span class="number">33.123</span>  <span class="number">159902</span>  <span class="number">15223</span></span><br><span class="line">...</span><br><span class="line"><span class="comment">#【close值降序排列】（看close列，从大到小，原，从小到大）</span></span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>a.sort_values(<span class="string">'close'</span>,ascending=<span class="literal">False</span>)</span><br><span class="line">    id      date    open   close    high     low  volume   code</span><br><span class="line"><span class="number">18</span>  <span class="number">18</span>  <span class="number">2008</span><span class="number">-9</span><span class="number">-8</span>  <span class="number">38.123</span>  <span class="number">39.569</span>  <span class="number">48.123</span>  <span class="number">48.123</span>  <span class="number">159917</span>  <span class="number">15224</span></span><br><span class="line"><span class="number">17</span>  <span class="number">17</span>  <span class="number">2008</span><span class="number">-9</span><span class="number">-7</span>  <span class="number">37.123</span>  <span class="number">38.569</span>  <span class="number">47.123</span>  <span class="number">47.123</span>  <span class="number">159916</span>  <span class="number">15224</span></span><br><span class="line"><span class="number">16</span>  <span class="number">16</span>  <span class="number">2008</span><span class="number">-9</span><span class="number">-6</span>  <span class="number">36.123</span>  <span class="number">37.569</span>  <span class="number">46.123</span>  <span class="number">46.123</span>  <span class="number">159915</span>  <span class="number">15224</span></span><br><span class="line"><span class="number">15</span>  <span class="number">15</span>  <span class="number">2008</span><span class="number">-9</span><span class="number">-5</span>  <span class="number">35.123</span>  <span class="number">36.569</span>  <span class="number">45.123</span>  <span class="number">45.123</span>  <span class="number">159914</span>  <span class="number">15224</span></span><br><span class="line"><span class="number">14</span>  <span class="number">14</span>  <span class="number">2008</span><span class="number">-9</span><span class="number">-4</span>  <span class="number">34.123</span>  <span class="number">35.569</span>  <span class="number">44.123</span>  <span class="number">44.123</span>  <span class="number">159913</span>  <span class="number">15224</span></span><br></pre></td></tr></table></figure>

<p>NumPy的通用函数同样适用于pandas</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&gt;&gt;&gt; </span>b=a.loc[:,<span class="string">'open'</span>:<span class="string">'code'</span>]</span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>b</span><br><span class="line">      open   close    high     low  volume   code</span><br><span class="line"><span class="number">0</span>   <span class="number">20.123</span>  <span class="number">21.569</span>  <span class="number">30.123</span>  <span class="number">30.123</span>  <span class="number">159899</span>  <span class="number">15223</span></span><br><span class="line"><span class="number">1</span>   <span class="number">21.123</span>  <span class="number">22.569</span>  <span class="number">31.123</span>  <span class="number">31.123</span>  <span class="number">159900</span>  <span class="number">15223</span></span><br><span class="line"><span class="number">2</span>   <span class="number">22.123</span>  <span class="number">23.569</span>  <span class="number">32.123</span>  <span class="number">32.123</span>  <span class="number">159901</span>  <span class="number">15223</span></span><br><span class="line"><span class="number">3</span>   <span class="number">23.123</span>  <span class="number">24.569</span>  <span class="number">33.123</span>  <span class="number">33.123</span>  <span class="number">159902</span>  <span class="number">15223</span></span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>b.abs()<span class="comment">#numpy函数的使用</span></span><br><span class="line">      open   close    high     low    volume     code</span><br><span class="line"><span class="number">0</span>   <span class="number">20.123</span>  <span class="number">21.569</span>  <span class="number">30.123</span>  <span class="number">30.123</span>  <span class="number">159899.0</span>  <span class="number">15223.0</span></span><br><span class="line"><span class="number">1</span>   <span class="number">21.123</span>  <span class="number">22.569</span>  <span class="number">31.123</span>  <span class="number">31.123</span>  <span class="number">159900.0</span>  <span class="number">15223.0</span></span><br><span class="line"><span class="number">2</span>   <span class="number">22.123</span>  <span class="number">23.569</span>  <span class="number">32.123</span>  <span class="number">32.123</span>  <span class="number">159901.0</span>  <span class="number">15223.0</span></span><br><span class="line"><span class="number">3</span>   <span class="number">23.123</span>  <span class="number">24.569</span>  <span class="number">33.123</span>  <span class="number">33.123</span>  <span class="number">159902.0</span>  <span class="number">15223.0</span></span><br><span class="line"><span class="number">4</span>   <span class="number">24.123</span>  <span class="number">25.569</span>  <span class="number">34.123</span>  <span class="number">34.123</span>  <span class="number">159903.0</span>  <span class="number">15223.0</span></span><br><span class="line"><span class="number">5</span>   <span class="number">25.123</span>  <span class="number">26.569</span>  <span class="number">35.123</span>  <span class="number">35.123</span>  <span class="number">159904.0</span>  <span class="number">15224.0</span></span><br><span class="line"></span><br><span class="line"><span class="comment">#【applymap(func)将函数应用在DataFrame各个元素上】</span></span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>b.applymap(<span class="keyword">lambda</span> x:x+<span class="number">1</span>) <span class="comment">#此处是用lambda(λ一个匿名函数)，也可用普通函数直接写进来</span></span><br><span class="line">      open   close    high     low  volume   code</span><br><span class="line"><span class="number">0</span>   <span class="number">21.123</span>  <span class="number">22.569</span>  <span class="number">31.123</span>  <span class="number">31.123</span>  <span class="number">159900</span>  <span class="number">15224</span></span><br><span class="line"><span class="number">1</span>   <span class="number">22.123</span>  <span class="number">23.569</span>  <span class="number">32.123</span>  <span class="number">32.123</span>  <span class="number">159901</span>  <span class="number">15224</span></span><br><span class="line"><span class="number">2</span>   <span class="number">23.123</span>  <span class="number">24.569</span>  <span class="number">33.123</span>  <span class="number">33.123</span>  <span class="number">159902</span>  <span class="number">15224</span></span><br></pre></td></tr></table></figure>
<h3 id="5-pandas的层次化索"><a href="#5-pandas的层次化索" class="headerlink" title="5.pandas的层次化索"></a>5.pandas的层次化索</h3><p>层次化索引是Pandas的- -项重要功能，它使我们能够在一个轴上拥有多个索引级别。<br>例: data=pd.Series(np.random.rand(9),index=[[‘a’,’a’,’a’,’b’,’b’,’b’,’c’,’c’,’c’],[1,2,3,1,2,3,1,2,3]])</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&gt;&gt;&gt; </span><span class="keyword">import</span> numpy <span class="keyword">as</span> np</span><br><span class="line"><span class="comment">#【创建一个多层索引的列表】</span></span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>data=pd.Series(np.random.rand(<span class="number">9</span>),index=[[<span class="string">'a'</span>,<span class="string">'a'</span>,<span class="string">'a'</span>,<span class="string">'b'</span>,<span class="string">'b'</span>,<span class="string">'b'</span>,<span class="string">'c'</span>,<span class="string">'c'</span>,<span class="string">'c'</span></span><br><span class="line">],[<span class="number">1</span>,<span class="number">2</span>,<span class="number">3</span>,<span class="number">1</span>,<span class="number">2</span>,<span class="number">3</span>,<span class="number">1</span>,<span class="number">2</span>,<span class="number">3</span>]])</span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>data</span><br><span class="line">a  <span class="number">1</span>    <span class="number">0.970743</span></span><br><span class="line">   <span class="number">2</span>    <span class="number">0.048131</span></span><br><span class="line">   <span class="number">3</span>    <span class="number">0.360269</span></span><br><span class="line">b  <span class="number">1</span>    <span class="number">0.311093</span></span><br><span class="line">   <span class="number">2</span>    <span class="number">0.866132</span></span><br><span class="line">   <span class="number">3</span>    <span class="number">0.591954</span></span><br><span class="line">c  <span class="number">1</span>    <span class="number">0.991314</span></span><br><span class="line">   <span class="number">2</span>    <span class="number">0.141202</span></span><br><span class="line">   <span class="number">3</span>    <span class="number">0.960226</span></span><br><span class="line">dtype: float64</span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>data[<span class="string">'a'</span>] <span class="comment">#索引</span></span><br><span class="line"><span class="number">1</span>    <span class="number">0.970743</span></span><br><span class="line"><span class="number">2</span>    <span class="number">0.048131</span></span><br><span class="line"><span class="number">3</span>    <span class="number">0.360269</span></span><br><span class="line">dtype: float64</span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>data[<span class="string">'a'</span>][<span class="number">2</span>] <span class="comment">#索引多层</span></span><br><span class="line"><span class="number">0.04813066871483096</span></span><br></pre></td></tr></table></figure>
<h3 id="6-padas从文件读取"><a href="#6-padas从文件读取" class="headerlink" title="6.padas从文件读取"></a>6.padas从文件读取</h3><h4 id="6-1读取文件-从文件名、URL、文件对象中加载数据"><a href="#6-1读取文件-从文件名、URL、文件对象中加载数据" class="headerlink" title="6.1读取文件:从文件名、URL、文件对象中加载数据"></a>6.1读取文件:从文件名、URL、文件对象中加载数据</h4><ul>
<li>read_csv 默认分隔符为 逗号</li>
<li>read_table 默认分隔符为 \t</li>
</ul>
<h4 id="6-2读取文件函数主要参数"><a href="#6-2读取文件函数主要参数" class="headerlink" title="6.2读取文件函数主要参数:"></a>6.2读取文件函数主要参数:</h4><ul>
<li>sep 指定分隔符，可用正则表达式如’\s+’</li>
<li>header  = None 指定文件无列名</li>
<li>names 指定列名</li>
<li>index_col 指定某列作为索引</li>
<li>skiprows=[1,2,3,4,5] 指定跳过某些行</li>
<li>na_values 指定某些字符串表示缺失值</li>
<li>parse_dates 指定某些列是否被解析为日期，布尔值或列表</li>
<li>nrows 指定读取几行文件</li>
<li>chunksize 分块读取文件，指定块大小</li>
</ul>
<p>例</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">#用sep参数自定义分隔符（read_table通用）</span></span><br><span class="line">pd.read_csv(<span class="string">'jr.csv'</span>,sep=<span class="string">'\t'</span>)</span><br><span class="line"></span><br><span class="line"><span class="comment">#sep参数也用正则表达式（\s+ 表示任意长度空白）</span></span><br><span class="line">pd.read_csv(<span class="string">'jr.csv'</span>,sep=<span class="string">'\s+'</span>)</span><br><span class="line"></span><br><span class="line"><span class="comment">#【如果文件第一行不是标题名】</span></span><br><span class="line">pd.read_csv(<span class="string">'jr.csv'</span>,sep=<span class="string">'\s+'</span>,header=<span class="literal">None</span>) <span class="comment">#或header=false</span></span><br><span class="line"><span class="comment">#【第一行没有标题，自取一个】</span></span><br><span class="line">pd.read_csv(<span class="string">'jr.csv'</span>,sep=<span class="string">'\s+'</span>,header=<span class="literal">None</span>,names=[<span class="string">'id'</span>,<span class="string">'date'</span>,...]) </span><br><span class="line"></span><br><span class="line"><span class="comment">#【指定date列为索引】</span></span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>a2=pd.read_csv(<span class="string">'jr.csv'</span>,index_col=<span class="string">'date'</span>)</span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>a2</span><br><span class="line">          id    open   close    high     low  volume   code</span><br><span class="line">date</span><br><span class="line"><span class="number">2007</span><span class="number">-3</span><span class="number">-1</span>   <span class="number">0</span>  <span class="number">20.123</span>  <span class="number">21.569</span>  <span class="number">30.123</span>  <span class="number">30.123</span>  <span class="number">159899</span>  <span class="number">15223</span></span><br><span class="line"><span class="number">2007</span><span class="number">-3</span><span class="number">-1</span>   <span class="number">1</span>  <span class="number">21.123</span>  <span class="number">22.569</span>  <span class="number">31.123</span>  <span class="number">31.123</span>  <span class="number">159900</span>  <span class="number">15223</span></span><br><span class="line"><span class="number">2007</span><span class="number">-3</span><span class="number">-1</span>   <span class="number">2</span>  <span class="number">22.123</span>  <span class="number">23.569</span>  <span class="number">32.123</span>  <span class="number">32.123</span>  <span class="number">159901</span>  <span class="number">15223</span></span><br><span class="line"><span class="number">2007</span><span class="number">-3</span><span class="number">-1</span>   <span class="number">3</span>  <span class="number">23.123</span>  <span class="number">24.569</span>  <span class="number">33.123</span>  <span class="number">33.123</span>  <span class="number">159902</span>  <span class="number">15223</span></span><br><span class="line"><span class="number">2007</span><span class="number">-4</span><span class="number">-1</span>   <span class="number">4</span>  <span class="number">24.123</span>  <span class="number">25.569</span>  <span class="number">34.123</span>  <span class="number">34.123</span>  <span class="number">159903</span>  <span class="number">15223</span></span><br><span class="line"><span class="number">2007</span><span class="number">-4</span><span class="number">-2</span>   <span class="number">5</span>  <span class="number">25.123</span>  <span class="number">26.569</span>  <span class="number">35.123</span>  <span class="number">35.123</span>  <span class="number">159904</span>  <span class="number">15224</span></span><br><span class="line"></span><br><span class="line"><span class="comment">#【把时间转换成专用time类型】</span></span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>a2=pd.read_csv(<span class="string">'jr.csv'</span>,parse_dates=[<span class="string">'date'</span>])</span><br><span class="line"></span><br><span class="line"><span class="comment">#【把指定符号按非数NaN处理】</span></span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>a2=pd.read_csv(<span class="string">'jr.csv'</span>,na_values=[<span class="string">'none'</span>,<span class="string">'null'</span>,<span class="string">'nan'</span>...])</span><br></pre></td></tr></table></figure>
<h3 id="7-写入到文件各参数（to-csv-）"><a href="#7-写入到文件各参数（to-csv-）" class="headerlink" title="7.写入到文件各参数（to_csv()）"></a>7.写入到文件各参数（to_csv()）</h3><h4 id="7-1pd-to-csv-写入文件函数的主要参数"><a href="#7-1pd-to-csv-写入文件函数的主要参数" class="headerlink" title="7.1pd.to_csv()写入文件函数的主要参数:"></a>7.1pd.to_csv()写入文件函数的主要参数:</h4><ul>
<li>sep=’/t’ 指定分隔符</li>
<li>na_rep  指定缺失值转换的字符串，默认为空字符串</li>
<li>header=False 不输出列名一行</li>
<li>index=False  不输出行索引一列</li>
<li>cols=[‘close’,’open’]  指定输出的列，传入列表</li>
</ul>
<h4 id="其他文件类型-json-XML-HTML-数据库"><a href="#其他文件类型-json-XML-HTML-数据库" class="headerlink" title="其他文件类型: json, XML, HTML,数据库"></a>其他文件类型: json, XML, HTML,数据库</h4><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">#【防止写新文件时自动加入新索引列】index=False</span></span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>a.to_csv(<span class="string">'new2.csv'</span>,index=<span class="literal">False</span>)</span><br></pre></td></tr></table></figure>
<h3 id="8-pandas时间对象处理"><a href="#8-pandas时间对象处理" class="headerlink" title="8.pandas时间对象处理"></a>8.pandas时间对象处理</h3><h4 id="8-1时间序列类型："><a href="#8-1时间序列类型：" class="headerlink" title="8.1时间序列类型："></a>8.1时间序列类型：</h4><ul>
<li>时间戳:特定时刻</li>
<li>固定时期:如2017年7月</li>
<li>时间间隔:起始时间-结束时间</li>
</ul>
<h4 id="8-2Python标准库-datetime"><a href="#8-2Python标准库-datetime" class="headerlink" title="8.2Python标准库: datetime"></a>8.2Python标准库: datetime</h4><ul>
<li>date time datetime timedelta</li>
<li>strftime()</li>
<li>strptime()</li>
</ul>
<h4 id="8-3第三方包-dateutil"><a href="#8-3第三方包-dateutil" class="headerlink" title="8.3第三方包: dateutil"></a>8.3第三方包: dateutil</h4><ul>
<li>dateutil.parser.parse()</li>
</ul>
<h4 id="8-4成组处理日期-pandas："><a href="#8-4成组处理日期-pandas：" class="headerlink" title="8.4成组处理日期: pandas："></a>8.4成组处理日期: pandas：</h4><ul>
<li>pd.to_datetime([‘2001-01-01, 2002-02-02’])</li>
</ul>
<h4 id="8-5产生时间对象数组-date-range"><a href="#8-5产生时间对象数组-date-range" class="headerlink" title="8.5产生时间对象数组: date_range()"></a>8.5产生时间对象数组: date_range()</h4><ul>
<li>start  开始时间</li>
<li>end 结束时间</li>
<li>periods 时间长度</li>
<li>freq 时间频率，默认为’D’， 可选：<br>H(our)、W(eek)、B(usiness)-[ 工作日周一-周五]、S(emi-)M(onth)-[半个月]、M（outh）、(min)T(es)、<br>S(econd)、 A(year)….</li>
</ul>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&gt;&gt;&gt; </span><span class="keyword">import</span> pandas <span class="keyword">as</span> pd</span><br><span class="line"><span class="comment">#【返回19.1.1-19.2.28间的所有工作日】</span></span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>pd.date_range(<span class="string">'2019-01-01'</span>,<span class="string">'2019-02-28'</span>,freq=<span class="string">'B'</span>)</span><br><span class="line">DatetimeIndex([<span class="string">'2019-01-01'</span>, <span class="string">'2019-01-02'</span>, <span class="string">'2019-01-03'</span>, <span class="string">'2019-01-04'</span>,</span><br><span class="line">               <span class="string">'2019-01-07'</span>, <span class="string">'2019-01-08'</span>, <span class="string">'2019-01-09'</span>, <span class="string">'2019-01-10'</span>,</span><br><span class="line">               <span class="string">'2019-01-11'</span>, <span class="string">'2019-01-14'</span>, <span class="string">'2019-01-15'</span>, <span class="string">'2019-01-16'</span>,</span><br><span class="line">               <span class="string">'2019-01-17'</span>, <span class="string">'2019-01-18'</span>, <span class="string">'2019-01-21'</span>, <span class="string">'2019-01-22'</span>,</span><br><span class="line">               <span class="string">'2019-01-23'</span>, <span class="string">'2019-01-24'</span>, <span class="string">'2019-01-25'</span>, <span class="string">'2019-01-28'</span>,</span><br><span class="line">               <span class="string">'2019-01-29'</span>, <span class="string">'2019-01-30'</span>, <span class="string">'2019-01-31'</span>, <span class="string">'2019-02-01'</span>,</span><br><span class="line">               <span class="string">'2019-02-04'</span>, <span class="string">'2019-02-05'</span>, <span class="string">'2019-02-06'</span>, <span class="string">'2019-02-07'</span>,</span><br><span class="line">               <span class="string">'2019-02-08'</span>, <span class="string">'2019-02-11'</span>, <span class="string">'2019-02-12'</span>, <span class="string">'2019-02-13'</span>,</span><br><span class="line">               <span class="string">'2019-02-14'</span>, <span class="string">'2019-02-15'</span>, <span class="string">'2019-02-18'</span>, <span class="string">'2019-02-19'</span>,</span><br><span class="line">               <span class="string">'2019-02-20'</span>, <span class="string">'2019-02-21'</span>, <span class="string">'2019-02-22'</span>, <span class="string">'2019-02-25'</span>,</span><br><span class="line">               <span class="string">'2019-02-26'</span>, <span class="string">'2019-02-27'</span>, <span class="string">'2019-02-28'</span>],</span><br><span class="line">              dtype=<span class="string">'datetime64[ns]'</span>, freq=<span class="string">'B'</span>)</span><br><span class="line"></span><br><span class="line"><span class="comment">#【每半个月返回一次】</span></span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>pd.date_range(<span class="string">'2019-01-01'</span>,<span class="string">'2019-12-28'</span>,freq=<span class="string">'SM'</span>)</span><br><span class="line">DatetimeIndex([<span class="string">'2019-01-15'</span>, <span class="string">'2019-01-31'</span>, <span class="string">'2019-02-15'</span>, <span class="string">'2019-02-28'</span>,</span><br><span class="line">               <span class="string">'2019-03-15'</span>, <span class="string">'2019-03-31'</span>, <span class="string">'2019-04-15'</span>, <span class="string">'2019-04-30'</span>,</span><br><span class="line">               <span class="string">'2019-05-15'</span>, <span class="string">'2019-05-31'</span>, <span class="string">'2019-06-15'</span>, <span class="string">'2019-06-30'</span>,</span><br><span class="line">               <span class="string">'2019-07-15'</span>, <span class="string">'2019-07-31'</span>, <span class="string">'2019-08-15'</span>, <span class="string">'2019-08-31'</span>,</span><br><span class="line">               <span class="string">'2019-09-15'</span>, <span class="string">'2019-09-30'</span>, <span class="string">'2019-10-15'</span>, <span class="string">'2019-10-31'</span>,</span><br><span class="line">               <span class="string">'2019-11-15'</span>, <span class="string">'2019-11-30'</span>, <span class="string">'2019-12-15'</span>],</span><br><span class="line">              dtype=<span class="string">'datetime64[ns]'</span>, freq=<span class="string">'SM-15'</span>)</span><br><span class="line"></span><br><span class="line"><span class="comment">#【不指截止日期，按时间长度，往后产生20天（freq默认是天）】</span></span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>pd.date_range(<span class="string">'2019-01-01'</span>,periods=<span class="number">20</span>)</span><br><span class="line">DatetimeIndex([<span class="string">'2019-01-01'</span>, <span class="string">'2019-01-02'</span>, <span class="string">'2019-01-03'</span>, <span class="string">'2019-01-04'</span>,</span><br><span class="line">               <span class="string">'2019-01-05'</span>, <span class="string">'2019-01-06'</span>, <span class="string">'2019-01-07'</span>, <span class="string">'2019-01-08'</span>,</span><br><span class="line">               <span class="string">'2019-01-09'</span>, <span class="string">'2019-01-10'</span>, <span class="string">'2019-01-11'</span>, <span class="string">'2019-01-12'</span>,</span><br><span class="line">               <span class="string">'2019-01-13'</span>, <span class="string">'2019-01-14'</span>, <span class="string">'2019-01-15'</span>, <span class="string">'2019-01-16'</span>,</span><br><span class="line">               <span class="string">'2019-01-17'</span>, <span class="string">'2019-01-18'</span>, <span class="string">'2019-01-19'</span>, <span class="string">'2019-01-20'</span>],</span><br><span class="line">              dtype=<span class="string">'datetime64[ns]'</span>, freq=<span class="string">'D'</span>)</span><br></pre></td></tr></table></figure>

<h3 id="8-6pandas时间序列"><a href="#8-6pandas时间序列" class="headerlink" title="8.6pandas时间序列"></a>8.6pandas时间序列</h3><p>时间序列就是以时间对象为索引的Series或DataFrame。<br>datetime对象作为索引时是存储在DatetimeIndex对象中的。</p>
<h4 id="8-6-1时间序列特殊功能"><a href="#8-6-1时间序列特殊功能" class="headerlink" title="8.6.1时间序列特殊功能:"></a>8.6.1时间序列特殊功能:</h4><ul>
<li>传入“年”或“年月”作为切片方式</li>
<li>传入日期范围作为切片方式</li>
</ul>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&gt;&gt;&gt; </span><span class="keyword">import</span> pandas <span class="keyword">as</span> pd</span><br><span class="line"><span class="comment">#【读取表格，让date作为列索引，并把时间解析为时间对象】</span></span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>a=pd.read_csv(<span class="string">'jr.csv'</span>,index_col=<span class="string">'date'</span>,parse_dates=[<span class="string">'date'</span>])</span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>a</span><br><span class="line">            id    open   close    high     low  volume   code</span><br><span class="line">date</span><br><span class="line"><span class="number">2007</span><span class="number">-03</span><span class="number">-01</span>   <span class="number">0</span>  <span class="number">20.123</span>  <span class="number">21.569</span>  <span class="number">30.123</span>  <span class="number">30.123</span>  <span class="number">159899</span>  <span class="number">15223</span></span><br><span class="line"><span class="number">2007</span><span class="number">-03</span><span class="number">-01</span>   <span class="number">1</span>  <span class="number">21.123</span>  <span class="number">22.569</span>  <span class="number">31.123</span>  <span class="number">31.123</span>  <span class="number">159900</span>  <span class="number">15223</span></span><br><span class="line"><span class="number">2007</span><span class="number">-03</span><span class="number">-01</span>   <span class="number">2</span>  <span class="number">22.123</span>  <span class="number">23.569</span>  <span class="number">32.123</span>  <span class="number">32.123</span>  <span class="number">159901</span>  <span class="number">15223</span></span><br><span class="line"><span class="number">2007</span><span class="number">-03</span><span class="number">-01</span>   <span class="number">3</span>  <span class="number">23.123</span>  <span class="number">24.569</span>  <span class="number">33.123</span>  <span class="number">33.123</span>  <span class="number">159902</span>  <span class="number">15223</span></span><br><span class="line"><span class="number">2007</span><span class="number">-04</span><span class="number">-01</span>   <span class="number">4</span>  <span class="number">24.123</span>  <span class="number">25.569</span>  <span class="number">34.123</span>  <span class="number">34.123</span>  <span class="number">159903</span>  <span class="number">15223</span></span><br><span class="line"><span class="number">2007</span><span class="number">-04</span><span class="number">-02</span>   <span class="number">5</span>  <span class="number">25.123</span>  <span class="number">26.569</span>  <span class="number">35.123</span>  <span class="number">35.123</span>  <span class="number">159904</span>  <span class="number">15224</span></span><br><span class="line"><span class="number">2007</span><span class="number">-04</span><span class="number">-03</span>   <span class="number">6</span>  <span class="number">26.123</span>  <span class="number">27.569</span>  <span class="number">36.123</span>  <span class="number">36.123</span>  <span class="number">159905</span>  <span class="number">15223</span></span><br><span class="line"><span class="number">2007</span><span class="number">-04</span><span class="number">-04</span>   <span class="number">7</span>  <span class="number">27.123</span>  <span class="number">28.569</span>  <span class="number">37.123</span>  <span class="number">37.123</span>  <span class="number">159906</span>  <span class="number">15224</span></span><br><span class="line"><span class="number">2007</span><span class="number">-04</span><span class="number">-05</span>   <span class="number">8</span>  <span class="number">28.123</span>  <span class="number">29.569</span>  <span class="number">38.123</span>  <span class="number">38.123</span>  <span class="number">159907</span>  <span class="number">15223</span></span><br><span class="line">...</span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>type(a.index[<span class="number">0</span>]) <span class="comment">#显示索引的类型（时间对象）</span></span><br><span class="line">&lt;<span class="class"><span class="keyword">class</span> '<span class="title">pandas</span>.<span class="title">_libs</span>.<span class="title">tslibs</span>.<span class="title">timestamps</span>.<span class="title">Timestamp</span>'&gt;</span></span><br><span class="line"><span class="class"></span></span><br><span class="line"><span class="class">#【返回所有2008年的数据】</span></span><br><span class="line"><span class="class">&gt;&gt;&gt; <span class="title">a</span>['2008']</span></span><br><span class="line"><span class="class">            <span class="title">id</span>    <span class="title">open</span>   <span class="title">close</span>    <span class="title">high</span>     <span class="title">low</span>  <span class="title">volume</span>   <span class="title">code</span></span></span><br><span class="line"><span class="class"><span class="title">date</span></span></span><br><span class="line"><span class="class">2008-09-01  11  31.123  32.569  41.123  41.123  159910  15224</span></span><br><span class="line"><span class="class">2008-09-02  12  32.123  33.569  42.123  42.123  159911  15224</span></span><br><span class="line"><span class="class">2008-09-03  13  33.123  34.569  43.123  43.123  159912  15224</span></span><br><span class="line"><span class="class">2008-09-04  14  34.123  35.569  44.123  44.123  159913  15224</span></span><br><span class="line"><span class="class">2008-09-05  15  35.123  36.569  45.123  45.123  159914  15224</span></span><br><span class="line"><span class="class">2008-09-06  16  36.123  37.569  46.123  46.123  159915  15224</span></span><br><span class="line"><span class="class">...</span></span><br><span class="line"><span class="class"></span></span><br><span class="line"><span class="class">#【返回所有2007年4月数据】</span></span><br><span class="line"><span class="class">&gt;&gt;&gt; <span class="title">a</span>['2007-04']</span></span><br><span class="line"><span class="class">            <span class="title">id</span>    <span class="title">open</span>   <span class="title">close</span>    <span class="title">high</span>     <span class="title">low</span>  <span class="title">volume</span>   <span class="title">code</span></span></span><br><span class="line"><span class="class"><span class="title">date</span></span></span><br><span class="line"><span class="class">2007-04-01   4  24.123  25.569  34.123  34.123  159903  15223</span></span><br><span class="line"><span class="class">2007-04-02   5  25.123  26.569  35.123  35.123  159904  15224</span></span><br><span class="line"><span class="class">2007-04-03   6  26.123  27.569  36.123  36.123  159905  15223</span></span><br><span class="line"><span class="class">2007-04-04   7  27.123  28.569  37.123  37.123  159906  15224</span></span><br><span class="line"><span class="class">2007-04-05   8  28.123  29.569  38.123  38.123  159907  15223</span></span><br><span class="line"><span class="class">2007-04-06   9  29.123  30.569  39.123  39.123  159908  15224</span></span><br><span class="line"><span class="class">2007-04-07  10  30.123  31.569  40.123  40.123  159909  15224</span></span><br><span class="line"><span class="class"></span></span><br><span class="line"><span class="class">#【返回2007-3月到4月数据】</span></span><br><span class="line"><span class="class">&gt;&gt;&gt; <span class="title">a</span>['2007-03':</span><span class="string">'2007-04'</span>]</span><br><span class="line">            id    open   close    high     low  volume   code</span><br><span class="line">date</span><br><span class="line"><span class="number">2007</span><span class="number">-03</span><span class="number">-01</span>   <span class="number">0</span>  <span class="number">20.123</span>  <span class="number">21.569</span>  <span class="number">30.123</span>  <span class="number">30.123</span>  <span class="number">159899</span>  <span class="number">15223</span></span><br><span class="line"><span class="number">2007</span><span class="number">-03</span><span class="number">-01</span>   <span class="number">1</span>  <span class="number">21.123</span>  <span class="number">22.569</span>  <span class="number">31.123</span>  <span class="number">31.123</span>  <span class="number">159900</span>  <span class="number">15223</span></span><br><span class="line"><span class="number">2007</span><span class="number">-03</span><span class="number">-01</span>   <span class="number">2</span>  <span class="number">22.123</span>  <span class="number">23.569</span>  <span class="number">32.123</span>  <span class="number">32.123</span>  <span class="number">159901</span>  <span class="number">15223</span></span><br><span class="line"><span class="number">2007</span><span class="number">-03</span><span class="number">-01</span>   <span class="number">3</span>  <span class="number">23.123</span>  <span class="number">24.569</span>  <span class="number">33.123</span>  <span class="number">33.123</span>  <span class="number">159902</span>  <span class="number">15223</span></span><br><span class="line"><span class="number">2007</span><span class="number">-04</span><span class="number">-01</span>   <span class="number">4</span>  <span class="number">24.123</span>  <span class="number">25.569</span>  <span class="number">34.123</span>  <span class="number">34.123</span>  <span class="number">159903</span>  <span class="number">15223</span></span><br><span class="line"><span class="number">2007</span><span class="number">-04</span><span class="number">-02</span>   <span class="number">5</span>  <span class="number">25.123</span>  <span class="number">26.569</span>  <span class="number">35.123</span>  <span class="number">35.123</span>  <span class="number">159904</span>  <span class="number">15224</span></span><br><span class="line"><span class="number">2007</span><span class="number">-04</span><span class="number">-03</span>   <span class="number">6</span>  <span class="number">26.123</span>  <span class="number">27.569</span>  <span class="number">36.123</span>  <span class="number">36.123</span>  <span class="number">159905</span>  <span class="number">15223</span></span><br><span class="line"><span class="number">2007</span><span class="number">-04</span><span class="number">-04</span>   <span class="number">7</span>  <span class="number">27.123</span>  <span class="number">28.569</span>  <span class="number">37.123</span>  <span class="number">37.123</span>  <span class="number">159906</span>  <span class="number">15224</span></span><br><span class="line"><span class="number">2007</span><span class="number">-04</span><span class="number">-05</span>   <span class="number">8</span>  <span class="number">28.123</span>  <span class="number">29.569</span>  <span class="number">38.123</span>  <span class="number">38.123</span>  <span class="number">159907</span>  <span class="number">15223</span></span><br><span class="line"><span class="number">2007</span><span class="number">-04</span><span class="number">-06</span>   <span class="number">9</span>  <span class="number">29.123</span>  <span class="number">30.569</span>  <span class="number">39.123</span>  <span class="number">39.123</span>  <span class="number">159908</span>  <span class="number">15224</span></span><br><span class="line"><span class="number">2007</span><span class="number">-04</span><span class="number">-07</span>  <span class="number">10</span>  <span class="number">30.123</span>  <span class="number">31.569</span>  <span class="number">40.123</span>  <span class="number">40.123</span>  <span class="number">159909</span>  <span class="number">15224</span></span><br></pre></td></tr></table></figure>


    </div>

    
    
    

      <footer class="post-footer">

        


        
    <div class="post-nav">
      <div class="post-nav-item">
    <a href="/blog/2019/10/25/1.react%E5%88%9D%E6%AD%A5%E5%87%86%E5%A4%87%E5%B7%A5%E5%85%B7%E5%AE%89%E8%A3%85%EF%BC%8C%E7%8E%AF%E5%A2%83sublime%20text%E5%AE%89%E8%A3%85%E7%AD%89/" rel="prev" title="1.react初步准备工具安装，环境sublime text安装等">
      <i class="fa fa-chevron-left"></i> 1.react初步准备工具安装，环境sublime text安装等
    </a></div>
      <div class="post-nav-item">
    <a href="/blog/2019/11/07/%E5%85%AD%E3%80%81React%20%E9%94%AE%E7%9B%98%E4%BA%8B%E4%BB%B6%20%E8%A1%A8%E5%8D%95%E4%BA%8B%E4%BB%B6%20%E4%BA%8B%E4%BB%B6%E5%AF%B9%E8%B1%A1%E4%BB%A5%E5%8F%8AReact%E4%B8%AD%E7%9A%84ref%E8%8E%B7%E5%8F%96dom%E8%8A%82%E7%82%B9%20%E3%80%81React%E5%AE%9E%E7%8E%B0%E7%B1%BB%E4%BC%BCVue%E7%9A%84%E5%8F%8C%E5%90%91%E6%95%B0%E6%8D%AE%E7%BB%91%E5%AE%9A/" rel="next" title="六、React 键盘事件 表单事件 事件对象以及React中的ref获取dom节点 、React实现类似Vue的双向数据绑定">
      六、React 键盘事件 表单事件 事件对象以及React中的ref获取dom节点 、React实现类似Vue的双向数据绑定 <i class="fa fa-chevron-right"></i>
    </a></div>
    </div>
      </footer>
    
  </article>
  
  
  

  </div>


          </div>
          

<script>
  window.addEventListener('tabs:register', () => {
    let { activeClass } = CONFIG.comments;
    if (CONFIG.comments.storage) {
      activeClass = localStorage.getItem('comments_active') || activeClass;
    }
    if (activeClass) {
      let activeTab = document.querySelector(`a[href="#comment-${activeClass}"]`);
      if (activeTab) {
        activeTab.click();
      }
    }
  });
  if (CONFIG.comments.storage) {
    window.addEventListener('tabs:click', event => {
      if (!event.target.matches('.tabs-comment .tab-content .tab-pane')) return;
      let commentClass = event.target.classList[1];
      localStorage.setItem('comments_active', commentClass);
    });
  }
</script>

        </div>
          
  
  <div class="toggle sidebar-toggle">
    <span class="toggle-line toggle-line-first"></span>
    <span class="toggle-line toggle-line-middle"></span>
    <span class="toggle-line toggle-line-last"></span>
  </div>

  <aside class="sidebar">
    <div class="sidebar-inner">

      <ul class="sidebar-nav motion-element">
        <li class="sidebar-nav-toc">
          文章目录
        </li>
        <li class="sidebar-nav-overview">
          站点概览
        </li>
      </ul>

      <!--noindex-->
      <div class="post-toc-wrap sidebar-panel">
          <div class="post-toc motion-element"><ol class="nav"><li class="nav-item nav-level-2"><a class="nav-link" href="#一、pandas简介"><span class="nav-number">1.</span> <span class="nav-text">一、pandas简介</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#1-pandas的主要功能："><span class="nav-number">1.1.</span> <span class="nav-text">1.pandas的主要功能：</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#2-安装方法"><span class="nav-number">1.2.</span> <span class="nav-text">2.安装方法:</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#3-引用方法"><span class="nav-number">1.3.</span> <span class="nav-text">3.引用方法:</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#二、pandas-Series"><span class="nav-number">2.</span> <span class="nav-text">二、pandas.Series</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#1-Series创建方式"><span class="nav-number">2.1.</span> <span class="nav-text">1.Series创建方式:</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#2-获取值数组和索引数组"><span class="nav-number">2.2.</span> <span class="nav-text">2.获取值数组和索引数组:</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#3-Series特性"><span class="nav-number">2.3.</span> <span class="nav-text">3.Series特性</span></a><ol class="nav-child"><li class="nav-item nav-level-4"><a class="nav-link" href="#2-3-1Series支持NumPy模块的特性-下标"><span class="nav-number">2.3.1.</span> <span class="nav-text">2.3.1Series支持NumPy模块的特性(下标) :</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#2-3-2Series支持字典的特性-标签"><span class="nav-number">2.3.2.</span> <span class="nav-text">2.3.2Series支持字典的特性(标签) :</span></a></li></ol></li><li class="nav-item nav-level-3"><a class="nav-link" href="#3-整数索引"><span class="nav-number">2.4.</span> <span class="nav-text">3.整数索引</span></a><ol class="nav-child"><li class="nav-item nav-level-5"><a class="nav-link" href="#如果索引（键）是整数类型，则根据整数进行数据操作时，总是优先面向标签（键）的，而不是优先用下标索引"><span class="nav-number">2.4.0.1.</span> <span class="nav-text">如果索引（键）是整数类型，则根据整数进行数据操作时，总是优先面向标签（键）的，而不是优先用下标索引</span></a></li></ol></li></ol></li><li class="nav-item nav-level-3"><a class="nav-link" href="#4-Series数据对齐"><span class="nav-number">2.5.</span> <span class="nav-text">4.Series数据对齐</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#5-缺失数据处理"><span class="nav-number">2.6.</span> <span class="nav-text">5.缺失数据处理</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#★三、pandas-DataFrame"><span class="nav-number">3.</span> <span class="nav-text">★三、pandas DataFrame</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#3-1创建方式"><span class="nav-number">3.1.</span> <span class="nav-text">3.1创建方式:</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#3-2★CSV文件读取与写入"><span class="nav-number">3.2.</span> <span class="nav-text">3.2★CSV文件读取与写入:</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#3-3DataFrame查看数据"><span class="nav-number">3.3.</span> <span class="nav-text">3.3DataFrame查看数据</span></a><ol class="nav-child"><li class="nav-item nav-level-4"><a class="nav-link" href="#1-查看数据常用属性及方法"><span class="nav-number">3.3.1.</span> <span class="nav-text">1.查看数据常用属性及方法:</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#2-DataFrame各列name属性-列名"><span class="nav-number">3.3.2.</span> <span class="nav-text">2.DataFrame各列name属性:列名</span></a></li></ol></li><li class="nav-item nav-level-3"><a class="nav-link" href="#3-3DataFrame索引和切片"><span class="nav-number">3.4.</span> <span class="nav-text">3.3DataFrame索引和切片</span></a><ol class="nav-child"><li class="nav-item nav-level-4"><a class="nav-link" href="#1）DataFrame有行索引和列索引。通过标签获取："><span class="nav-number">3.4.1.</span> <span class="nav-text">1）DataFrame有行索引和列索引。通过标签获取：</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#2）因1-方法会导致问题，建议用-loc-iloc（即指定根据标签索引）"><span class="nav-number">3.4.2.</span> <span class="nav-text">2）因1)方法会导致问题，建议用.loc,iloc（即指定根据标签索引）</span></a><ol class="nav-child"><li class="nav-item nav-level-5"><a class="nav-link" href="#1-普通索引示例："><span class="nav-number">3.4.2.1.</span> <span class="nav-text">1) 普通索引示例：</span></a></li><li class="nav-item nav-level-5"><a class="nav-link" href="#2）loc、iloc索引示例"><span class="nav-number">3.4.2.2.</span> <span class="nav-text">2）loc、iloc索引示例</span></a></li></ol></li><li class="nav-item nav-level-4"><a class="nav-link" href="#3）按布尔取值（条件取值）"><span class="nav-number">3.4.3.</span> <span class="nav-text">3）按布尔取值（条件取值）</span></a></li></ol></li><li class="nav-item nav-level-3"><a class="nav-link" href="#3-4DataFrame：数据对齐-amp-缺失数据"><span class="nav-number">3.5.</span> <span class="nav-text">3.4DataFrame：数据对齐 &amp; 缺失数据</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#4-pandas其它常用方法："><span class="nav-number">3.6.</span> <span class="nav-text">4.pandas其它常用方法：</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#5-pandas的层次化索"><span class="nav-number">3.7.</span> <span class="nav-text">5.pandas的层次化索</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#6-padas从文件读取"><span class="nav-number">3.8.</span> <span class="nav-text">6.padas从文件读取</span></a><ol class="nav-child"><li class="nav-item nav-level-4"><a class="nav-link" href="#6-1读取文件-从文件名、URL、文件对象中加载数据"><span class="nav-number">3.8.1.</span> <span class="nav-text">6.1读取文件:从文件名、URL、文件对象中加载数据</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#6-2读取文件函数主要参数"><span class="nav-number">3.8.2.</span> <span class="nav-text">6.2读取文件函数主要参数:</span></a></li></ol></li><li class="nav-item nav-level-3"><a class="nav-link" href="#7-写入到文件各参数（to-csv-）"><span class="nav-number">3.9.</span> <span class="nav-text">7.写入到文件各参数（to_csv()）</span></a><ol class="nav-child"><li class="nav-item nav-level-4"><a class="nav-link" href="#7-1pd-to-csv-写入文件函数的主要参数"><span class="nav-number">3.9.1.</span> <span class="nav-text">7.1pd.to_csv()写入文件函数的主要参数:</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#其他文件类型-json-XML-HTML-数据库"><span class="nav-number">3.9.2.</span> <span class="nav-text">其他文件类型: json, XML, HTML,数据库</span></a></li></ol></li><li class="nav-item nav-level-3"><a class="nav-link" href="#8-pandas时间对象处理"><span class="nav-number">3.10.</span> <span class="nav-text">8.pandas时间对象处理</span></a><ol class="nav-child"><li class="nav-item nav-level-4"><a class="nav-link" href="#8-1时间序列类型："><span class="nav-number">3.10.1.</span> <span class="nav-text">8.1时间序列类型：</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#8-2Python标准库-datetime"><span class="nav-number">3.10.2.</span> <span class="nav-text">8.2Python标准库: datetime</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#8-3第三方包-dateutil"><span class="nav-number">3.10.3.</span> <span class="nav-text">8.3第三方包: dateutil</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#8-4成组处理日期-pandas："><span class="nav-number">3.10.4.</span> <span class="nav-text">8.4成组处理日期: pandas：</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#8-5产生时间对象数组-date-range"><span class="nav-number">3.10.5.</span> <span class="nav-text">8.5产生时间对象数组: date_range()</span></a></li></ol></li><li class="nav-item nav-level-3"><a class="nav-link" href="#8-6pandas时间序列"><span class="nav-number">3.11.</span> <span class="nav-text">8.6pandas时间序列</span></a><ol class="nav-child"><li class="nav-item nav-level-4"><a class="nav-link" href="#8-6-1时间序列特殊功能"><span class="nav-number">3.11.1.</span> <span class="nav-text">8.6.1时间序列特殊功能:</span></a></li></ol></li></ol></li></ol></div>
      </div>
      <!--/noindex-->

      <div class="site-overview-wrap sidebar-panel">
        <div class="site-author motion-element" itemprop="author" itemscope itemtype="http://schema.org/Person">
    <img class="site-author-image" itemprop="image" alt="晨曦"
      src="http://www.zeyajt.com/u/40b74ddb-a87b-41cd-821b-3f6eeb544661/image/637203952121373129.jpg">
  <p class="site-author-name" itemprop="name">晨曦</p>
  <div class="site-description" itemprop="description">晨曦的技术博客，专注于python、vue、react、人工智能、爬虫、大数据分析</div>
</div>
<div class="site-state-wrap motion-element">
  <nav class="site-state">
      <div class="site-state-item site-state-posts">
          <a href="/blog/archives/">
        
          <span class="site-state-item-count">96</span>
          <span class="site-state-item-name">日志</span>
        </a>
      </div>
      <div class="site-state-item site-state-categories">
            <a href="/blog/categories/">
          
        <span class="site-state-item-count">15</span>
        <span class="site-state-item-name">分类</span></a>
      </div>
      <div class="site-state-item site-state-tags">
            <a href="/blog/tags/">
          
        <span class="site-state-item-count">4</span>
        <span class="site-state-item-name">标签</span></a>
      </div>
  </nav>
</div>



      </div>

    </div>
  </aside>
  <div id="sidebar-dimmer"></div>


      </div>
    </main>

    <footer class="footer">
      <div class="footer-inner">
        

        

<div class="copyright">
  
  &copy; 
  <span itemprop="copyrightYear">2020</span>
  <span class="with-love">
    <i class="fa fa-user"></i>
  </span>
  <span class="author" itemprop="copyrightHolder">晨曦</span>
</div>

        








      </div>
    </footer>
  </div>

  
  <script src="/blog/lib/anime.min.js"></script>
  <script src="/blog/lib/velocity/velocity.min.js"></script>
  <script src="/blog/lib/velocity/velocity.ui.min.js"></script>

<script src="/blog/js/utils.js"></script>

<script src="/blog/js/motion.js"></script>


<script src="/blog/js/schemes/pisces.js"></script>


<script src="/blog/js/next-boot.js"></script>




  















  

  


 
</body>
</html>
